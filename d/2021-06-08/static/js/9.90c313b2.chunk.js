(this["webpackJsonpremote-faces-web"]=this["webpackJsonpremote-faces-web"]||[]).push([[9],{108:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return M}));var c=function(e){return"object"===typeof e&&null!==e},a=function(e,t){return"string"===typeof e[t]},M=function(e,t){return c(e[t])}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var c=n(4),a=n(2),M=n.n(a),r=n(3),i=n(5),s=n(1539),o=n(29),u=(n(13),function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e=n.result,c=e.indexOf(",")+1;t(e.slice(c))},n.readAsDataURL(new Blob([e]))}))}),N=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data:application/octet-binary;base64,".concat(t));case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=new Map,g=function(e,t){var n="".concat(e,":").concat(t);if(!j.has(n)){var a=function(e,t){var n=function(){var e=Object(r.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.acceptingMediaTypes.includes(t)){e.next=3;break}return console.log("media type already added",t),e.abrupt("return");case 3:return O.acceptingMediaTypes.push(t),e.next=6,z;case 6:e.sent.acceptMediaTypes(Object(i.snapshot)(O.acceptingMediaTypes));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(r.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(n=O.acceptingMediaTypes.indexOf(t))){e.next=4;break}return console.log("media type already added",t),e.abrupt("return");case 4:return O.acceptingMediaTypes.splice(n,1),e.next=7,z;case 7:e.sent.acceptMediaTypes(Object(i.snapshot)(O.acceptingMediaTypes));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(M.a.mark((function e(t,n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z;case 2:e.sent.addTrack(t,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z;case 2:e.sent.removeTrack(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z;case 2:e.sent.dispose();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(i.proxy)({networkStatusList:[],userIdMap:{},ydoc:Object(i.ref)(new s.a),acceptingMediaTypes:[],trackMap:{},addMediaType:n,removeMediaType:a,addTrack:j,removeTrack:g,dispose:D}),d=function(){var e=Object(r.a)(M.a.mark((function e(t){var n,c,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.c(O.ydoc),e.next=3,u(n);case 3:c=e.sent,a={ydocUpdate:c},z.then((function(e){e.sendData(a,t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(M.a.mark((function e(t,n){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.userIdMap[n.userId]=n.peerIndex,!(null===t||void 0===t?void 0:t.ydocUpdate)){e.next=6;break}return e.next=4,N(t.ydocUpdate);case 4:c=e.sent,s.b(O.ydoc,c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();O.ydoc.on("update",function(){var e=Object(r.a)(M.a.mark((function e(t){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:n=e.sent,z.then((function(e){e.broadcastData({ydocUpdate:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var z=Object(o.b)(e,t,(function(e){console.log((new Date).toLocaleString(),"[network status]",e),O.networkStatusList.unshift(e),O.networkStatusList.length>10&&O.networkStatusList.pop(),"CONNECTION_CLOSED"===(null===e||void 0===e?void 0:e.type)&&Object.entries(O.userIdMap).forEach((function(t){var n=Object(c.a)(t,2),a=n[0];n[1]===e.peerIndex&&(O.userIdMap[a]="closed")}))}),d,T,(function(e,t,n){O.trackMap[e]||(O.trackMap[e]={}),t.addEventListener("ended",(function(){O.trackMap[e][n.userId]===t&&delete O.trackMap[e][n.userId]})),O.trackMap[e][n.userId]=Object(i.ref)(t)}));return O}(e,t);j.set(n,a)}return j.get(n)}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},1544:function(e,t,n){"use strict";n.r(t),n.d(t,"SingleRoom",(function(){return $}));var c=n(4),a=n(0),M=n(1),r=n.n(M),i=n(16),s=(n(646),n(8)),o=n(6),u=n(101),N=(n(647),n(5)),j=n(134),g=n(15),D=function(e,t,n,c,a){return Object(g.a)({},"meeting".concat(e),{type:"meeting",position:[t,n],size:[c,a],zIndex:0,background:"",border:"",iframe:""})},O=function(e,t,n){var c;return c={},Object(g.a)(c,"gomeeting".concat(e),{type:"meeting",position:[t,n],size:[250,150],zIndex:0,background:"",border:"",iframe:""}),Object(g.a)(c,"gobard".concat(e),{type:"goboard",position:[t,n],size:[250,150],zIndex:0,background:"rgba(140, 140, 140, 0.2)",border:"",iframe:""}),c},d={intro:Object(u.a)(Object(u.a)(Object(u.a)({background:{type:"background",position:[36,36],size:[800,500],zIndex:-100,background:"url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY2Ny4yOTIyOTgzMDU3OTI3IDQxOC4xNDczNjEzODYyNzcyIiB3aWR0aD0iMTMzNC41ODQ1OTY2MTE1ODUzIiBoZWlnaHQ9IjgzNi4yOTQ3MjI3NzI1NTQ1Ij4KICA8IS0tIHN2Zy1zb3VyY2U6ZXhjYWxpZHJhdyAtLT4KICAKICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI2NjcuMjkyMjk4MzA1NzkyNyIgaGVpZ2h0PSI0MTguMTQ3MzYxMzg2Mjc3MiIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0wLjA0MDc4OTI4NTY3NDY5MTIgMC45Mzk2MDg4MDMwMTg5Mjc0IEMtNi4zODU5NzU3NzkzNTIyODkgLTcuODM1OTk0ODM4NjU1MDIwNCwgLTMxLjkzNzUxNjQ0NjY5ODIxIC00My40NTIxNDcxOTExNjcsIC0zOC42NTQ4NTA0MzU2NzUzODUgLTUyLjI4MDI3ODgzMjcxODg4IE0tMS4zOTY5MzUwNjg2ODU1NjE1IDAuMzg3Mjk5NDc5MjY0NzY2MTYgQy03LjkxNjAyNzI0NzQ2MDEzNjUgLTguMjcwNDExODcyNjUxNDUsIC0zMy4xNzk2MDIyNzkxNDg3NDYgLTQyLjUxNzM2NTQxMTEyODk3LCAtMzkuMjU4MjE3MzcyODA5Nzk2IC01MS4wNjU3MDEyNDgwNjEwNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0tMTIuODE5NTU5MjAxNTg1NTczIC0zMy4xOTc5NDQ4NTk4MDkxMyBDLTIyLjcyOTA5MTEzNzk5NDczIC00MC43NzA0MDI4NDQ1NjY0NiwgLTI5LjU3NzAxMzE2ODExNjA3IC00NC40MzUyOTM5NjAyODc3OSwgLTQxLjE3OTY5NDcyNjAxMDExIC01MC42OTkwMTc1ODA1MzU0MSBNLTE0LjgzMjg2MTc1NzgyNDY0MiAtMzMuMzI1NjM3MDc1ODg1MDggQy0yMy4wOTQ1OTE4MzE5MjYwOTUgLTM5LjQ0ODUwODEzMzYwMzIzLCAtMjkuNDgyNTU4MTQwMzcxMTc1IC00NS4xNjMzNTk5OTQ5MDM5MywgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My40OTc3NzM1MzAyNzk3NDQgMjAzLjQwMTc2NDQxNTczNjI0KSByb3RhdGUoMCAtMTkuNjA4NzE0MDQzNTY3NTQ1IC0yNS42NzAzMzUwMTQ4NDk5NjgpIj48cGF0aCBkPSJNLTI5LjQyMDQ3NTMwMjAzMDM1OCAtMjEuMTM0MzgwNDE5MjM3MTU0IEMtMzQuNTE3NjY0NzMwMTM4MzY0IC0zMi4yMzY3OTEyMjA5NzQ4MSwgLTM2LjUxNTcxMjE4OTA1OTA5NCAtMzkuNDI1OTkyMzI0NDMyNDM2LCAtNDEuMTc5Njk0NzI2MDEwMTEgLTUwLjY5OTAxNzU4MDUzNTQxIE0tMzEuNDMzNzc3ODU4MjY5NDI2IC0yMS4yNjIwNzI2MzUzMTMxMSBDLTM0LjY3MzY3MzM5NDc0NDQ1IC0zMS4xMTQxMTM5MjIyMzUwMDYsIC0zNS45MjU4ODQ3MzQ2NzkxNDQgLTQwLjU2MTAxOTUyMzE0NTQ1NCwgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguNTA3MTUxMDU3MjU0MzA1IDIwNy4wODIxNjEzODY5ODAyNikgcm90YXRlKDAgMjYuODczNjY2OTA1NTM0NjM0IDcuNjMwNzk0MzA2NTA5ODQxKSI+PHRleHQgeD0iMCIgeT0iMTIuMjYxNTg4NjEzMDE5NjgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzA5MnB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5GYWNlIExpc3Q8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA5MS45NTMyMDg4MTIzODY0OSA2Mi4xODA5MDgwMjEzMTE4MzYpIj48cGF0aCBkPSJNMzEuMDkwNDU0MDEwNjU1OTE1IDAgTTMxLjA5MDQ1NDAxMDY1NTkxNSAwIEM2MS4wMjY0NzI3NDM3Nzc3NDUgMCwgOTAuOTYyNDkxNDc2ODk5NTcgMCwgMTUyLjgxNTk2MzYxNDExNzEgMCBNMTUyLjgxNTk2MzYxNDExNzEgMCBDMTczLjU0MjkzMjk1NDU1NDM3IDAsIDE4My45MDY0MTc2MjQ3NzMgMTAuMzYzNDg0NjcwMjE4NjQsIDE4My45MDY0MTc2MjQ3NzMgMzEuMDkwNDU0MDEwNjU1OTE1IE0xODMuOTA2NDE3NjI0NzczIDMxLjA5MDQ1NDAxMDY1NTkxNSBDMTgzLjkwNjQxNzYyNDc3MyA1Mi42MjY4Mjg3MDA3OTU0MTQsIDE4My45MDY0MTc2MjQ3NzMgNzQuMTYzMjAzMzkwOTM0OTIsIDE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgTTE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgQzE4My45MDY0MTc2MjQ3NzMgMTEzLjk5ODMzMTM3MjQwNTAyLCAxNzMuNTQyOTMyOTU0NTU0MzcgMTI0LjM2MTgxNjA0MjYyMzY2LCAxNTIuODE1OTYzNjE0MTE3MSAxMjQuMzYxODE2MDQyNjIzNjYgTTE1Mi44MTU5NjM2MTQxMTcxIDEyNC4zNjE4MTYwNDI2MjM2NiBDMTIyLjM4MTg1MjIwNjMxMjg2IDEyNC4zNjE4MTYwNDI2MjM2NiwgOTEuOTQ3NzQwNzk4NTA4NiAxMjQuMzYxODE2MDQyNjIzNjYsIDMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgTTMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgQzEwLjM2MzQ4NDY3MDIxODY0IDEyNC4zNjE4MTYwNDI2MjM2NiwgMCAxMTMuOTk4MzMxMzcyNDA1MDIsIDAgOTMuMjcxMzYyMDMxOTY3NzQgTTAgOTMuMjcxMzYyMDMxOTY3NzQgQzAgNjguNzAxMDc4NjE1NDc1NTQsIDAgNDQuMTMwNzk1MTk4OTgzMzM2LCAwIDMxLjA5MDQ1NDAxMDY1NTkxNSBNMCAzMS4wOTA0NTQwMTA2NTU5MTUgQzAgMTAuMzYzNDg0NjcwMjE4NjQsIDEwLjM2MzQ4NDY3MDIxODY0IDAsIDMxLjA5MDQ1NDAxMDY1NTkxNSAwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iMyA2Ij48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMS44NDU1MTM2Mjc3NzM1OCAyMS40NjQ0OTk0NDQxMDQ5NDUpIHJvdGF0ZSgwIDMwLjg1NDk1MDg5MTUzOTc3MiA3LjYzMDc5NDMwNjUwOTg0MSkiPjx0ZXh0IHg9IjAiIHk9IjEyLjI2MTU4ODYxMzAxOTY4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcwOThweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RW50cnkgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjUuOTEzMzg0ODEwNzE0ODkgMTM5LjEwNzQyODcwODQyNTgpIHJvdGF0ZSgwIDU5IDYpIj48dGV4dCB4PSIwIiB5PSIxMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMTAuNjE2NzU3Mjk2MDEzNjgxcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPllvdSBjYW4gZHJhZyB5b3VyIGF2YXRhcjwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgwLjMxMjEzNTA1NjYwNzMgMzEuMjA4NDk0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC45NjU4MTM2NDIzNjc3MjA2IDAuNzkwMzMwNzMyMjQxMjcyOSBDNTkuOTI2MDgxODMzNzkyOTcgLTIuNTQwMDEwMzg1OTkwNzcwNiwgMTI0LjAzNTUyNTY2OTEzOTEyIC0xLjM3OTY0NTEwMjUwMTU0MzMsIDE2OC42ODM5NzY0MjQzMzczMiAtMS45ODUyMjYyNDkzMjIyOTUyIE0wLjA5NTA2MDI0MTQwODY0NjEgMC42NTI5MTMwMzY3NTYyMTc1IEM0NC4wNzQ5MTU2NTcwMzQ3NCAyLjI3MDc5MDQ0NjA5MDQyMDUsIDg2Ljk2ODg0NTk3MDQyNjk0IDEuNzY0MTc0NzE3OTUwNTQzMSwgMTY3LjkwMDA1OTIxMjQwOTg0IC0wLjQ1Mjk2MzIwMDM5Nzc4OTUgTTE2OC43MjgyNDgzNzAyOTA3IC0wLjkzNDEyMzEzNDI0MDUwODEgQzE2OC44ODkzMDA0MDE1ODA4NCAyMi41NjAxOTg5NDg1NDU2NDcsIDE2Ni4xOTM3ODU1NDM4MTE4MyA0NS42MTAzMzE5NTk2NzY1MywgMTY2LjQ5ODk0MjU2NjUxNDkgMTEwLjc0Njc4OTI3MDQ2NDMyIE0xNjcuNzg0NjI3MTg4NDA3NzcgLTAuNDcyMTkzODA0NTY5NTQyNCBDMTcwLjE2ODc0NzEyNTkzMjYgMjYuNDEwNDYzNzc4OTc1NzksIDE3MC4xNjQ0MTEzMzUwNjAwNCA1My42NjEwNzQ2NjI5OTcxOTQsIDE2OC41OTY0MTgzOTk3NzQ0MiAxMTAuMDAyNzM2NTQwODk0OTQgTTE2Ny42NTcyNDM0NDMxMzIzMyAxMTEuMDg4NDA0NDcwNTA3MDQgQzEwOC4wOTg4Njc4ODk0NjMyOSAxMTIuMjIzNzg5NzU4MzMzMzcsIDQ1LjEwOTQ2Nzc4NDQwMjY1IDExMy4wMzI5NTQ5MzgwNjI4MywgLTEuNjU0MzU3NjA2NTQ1MDkwNyAxMDkuMDA1MzQwOTI3NjY0MTggTTE2Ny40NDc3NzU2MjEzNzc4MiAxMDkuODY3MTgwNTU4MzA1MjIgQzEwNS43MTM1NTA4NTIyNzQ1NSAxMTAuOTMwNDI4ODY4NjYzMTYsIDQ0LjQ2MTgyMTM5MTA5MzYzNiAxMTEuNTU5NzcwODU4NDE4NzksIDAuODI0NDk1MDU5NDM4MDQ5OCAxMDkuNzAyMzgwNTk5ODM3NzQgTTEuMzcwNDEzNjA2OTg2NDAzNSAxMDkuNzM2NTg5MzA2NDE3ODQgQy0wLjk1ODA3OTU0MjQxNzAyMDUgNzYuMDExNzIyMjI5ODc4MzIsIC0xLjY2OTM5ODY5MDk1NzUxNzQgNDEuMDgxMDY5NDAxOTk2MDIsIDEuNTM1MTAxMTgwODk2MTYzIDAuODY5MTAzMDM4NjgzNTMzNyBNLTAuNzM3NDg1NDI2NDc4MDg3OSAxMTEuMzQyMzQ0OTQxOTU1MDUgQzAuMDAwNDM3MDA0Njg0Nzk5OTAyMDcgNzQuMjg0NjkzMTg4MTU4MzcsIC0xLjY5NDE0NzI3NTU2NzY1NjggMzkuMjQ0MzQ3NzYyMTgxNTMsIDAuODc2NjA3MTkxNzQ4OTE3MSAwLjcwNTc1MjkxMTk3NzQ2OTkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTQuNjU5NDg1ODA1NzkyNjYgMTIuMDQ4MzI5Mjg0ODcxMDQ1KSByb3RhdGUoMCA0NC41IDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5NZWV0aW5nIEFyZWEgMTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc1LjAzODY5NzU1NjYwNzMgMzEuOTg5NzQ0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC4zOTU5MTA2NDQ5MDM3NzkwMyAtMC45OTcyNTk4NDk2ODI0NTAzIEM0OS41NDc4MTEzMzM3Nzk3OSAtMi42NDQ4MTQ3MzMxMjI5NTA2LCA5OC4xNDc2MTI3OTQ3NTA1MyAtMS43MDc3MDk3MzMxMDM4NzcsIDE2OC45ODU1MDEwODIwOTM0IDAuOTExNTI4Mjk0OTA2MDIwMiBNLTAuODI3MTc4ODAzMjcyNTQ1MyAtMC43NDgwMTI3NjkwMzU5OTUgQzU0LjQxNDI5ODUwNjE3MDU4IC0xLjg2NzE2Nzk0ODg3NjY3NDQsIDEwOC4wNTAzNDA0NDQyMTQ3OCAtMS45NTM5MTE2OTExMDQyMjg3LCAxNjcuNzY0Mjc3MTY5ODkxNTkgLTAuNzg3OTM3NTk5MjM0MjgzIE0xNzAuMDQ3NDUzMTk2MTk4NjMgLTEuNTk3OTcxNzMxNzk2ODYwNyBDMTY4LjU0NzMyMDQyMDk4MjA2IDI3Ljk1MjgxNjAwNDQ4NDI2LCAxNjcuNTk1MjA5MzU1NTk0MzMgNTUuODI4NzQzNzQwMTU1MDI2LCAxNjcuNjMzNjg1OTE4MDA0MiAxMDkuOTQzMTA5MDEwNzI5OTMgTTE2OS4xNjYwMTM2Njc3NzA2IDAuNDM0NTUxNTE5MzQxNzY2ODMgQzE2Ny45MzM0MDM0NzYxMjUxNiAzNS44OTcxOTM3MjM3NjQzOSwgMTY3Ljg0MjY3NTU4MDYyNjkgNjkuNDc5Mzg1Njc5NDY4NzUsIDE2OS4yMzk0NDE1NTM1NDE0IDExMS4zNzMzOTIwMjcyNTUxNCBNMTcwLjE1MTY3NzQ2MDgyMDM3IDExMS45MTI4NzIyODk2OTExMSBDMTI0LjMyMzg2MTkwNjM1OTYxIDExMS4yNjAyMzI3NTAwNzI3MywgODEuNjUxMTAwNDQ0MzA2MDggMTExLjc3MjIzMTcwMTUwNzgyLCAxLjY5ODQ4MDY4OTg5ODEzMzMgMTA5Ljg2Mjc0ODUzODUyNzYzIE0xNjguOTc3MjQ1MjUxMTI3NDcgMTEwLjg5NTY3ODIwMzkzNjY1IEMxMDYuOTczNTU2MDAyMTU1MzYgMTA4LjcyMDc4NTYzMTcwNDk0LCA0Ni4wMjk0MDk0MDkxMjgwOSAxMDkuMTUzMzI3MDkxNTAzNzUsIC0wLjY2NjYwNDIxODA3MzE4OTMgMTEwLjg0OTE1NTg1NDgxNzQ3IE0tMS45OTM5OTIyNDQ4MjQ3NjcxIDExMC41MDE3MTY1Mjk0MDI4NyBDMS43OTI3ODk2MTkxNDA0NzU3IDc1LjQzOTcxMTg2MzkxMTkxLCAwLjk4OTIzNDMwOTM2Nzk4NDQgNDAuMzA2MjQwNzUyNDk4MSwgMS41MzQwMDE0OTM4MjY1MDg1IC0wLjIxMzg5MTUwMDYwNzEzMjkgTS0wLjY5MzA3NTExNzY1NTA5ODQgMTExLjA3MjM2MjEzNjQ3OTQ2IEMwLjAyNjEwNjAyNDQ1MjQ0MzU4OCA4MC43ODcwMTA1NTUxNTE4LCAtMS4yNzgxNTE0NTc4Mzc4MjQ0IDUyLjAwNDA4MjI2MDI2MjEyLCAtMC42MDIwMzI4NjcyNjAyNzczIC0wLjcyODUzNTUyMDg0NDE2MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDkuODA3OTIzMzA1NzkyNyAxMS42NjE2MTA1MzQ4NzEwNDUpIHJvdGF0ZSgwIDQ0LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPk1lZXRpbmcgQXJlYSAyPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTMuMjM3OTE2MzA2NjA3MyAyMjkuMTEwODM4NjcwNTQxMSkgcm90YXRlKDAgMTc3LjY4OTQ2NTkxMzY2MTI1IDg5LjUxODI2MTM1Nzg2ODA2KSI+PHBhdGggZD0iTS0wLjU5MzUyMzcxOTEwNjI2NiAtMC4zNjYwNzgxMzM1MDc5MTI3NCBDODkuNzQ2Nzg5MTQ4NjQ0NzUgMC45MDk2ODU1MTA4ODEwNTA0LCAxNzguNzIxNTM1NjM2MDMzMiAwLjQzMDgxOTU0OTQ1NjcxMjg2LCAzNTUuNDk0NjU0NTY2OTA0IC0wLjgwMjUwMDk0NzMwMTI3ODIgTS0wLjUyNDE2Nzc4NjI0ODIyMjQgMC4yNzI3NTA2OTg1MTYyNzM4IEMxNDEuMzU0MDExMzUyNDM0NzggMC41NzQ1MjE2NDkwODMxNTQ3LCAyODIuNzQxMjAwODQ3MDIxODQgLTAuMDc1OTYwMzk0MTU3Njg4NDYsIDM1NS41NDU1OTkwMjYxNDY3NiAtMC40OTM5OTc1NDc1MDg2NDQxNiBNMzU3LjE4NzE0MTUwOTIwNTk2IDAuMDg5NTU0MTk2MjIzNjE2NiBDMzUzLjU4ODY4NTY2NjY4MDMgNjAuOTYwNDM3Mjg5MjU3ODEsIDM1NS4zNDAwNzE1MzQyNzYgMTI0LjA1MDE5ODE3NDY1MDQsIDM1Ny4yMDIyMjQ0MDQ5NjE3IDE3OS4xOTI1Mzc5Mzg2MjgzIE0zNTQuNTcxNDIzMDkzMjY3NjQgMC43NDU4OTg0Mzc2ODYyNjQ1IEMzNTQuMTkxNTA5OTM5MDY4NyA0NC41NjcxODg3MDAzNjQwMSwgMzU0LjQwMDc4MjIzNDMwNTI3IDg5LjIwNjE3OTM0OTA4OTExLCAzNTYuMjc2Mjk2ODYzNzQzIDE3OS43NDQxOTU3NzA4NTU5NSBNMzU2LjMwNTUzMDUxNTM2ODEgMTc4LjcxMTQ5MDQ2NDIwODMgQzI0NC45MDc2MTgzOTU3MzgyNCAxNzguNzQwMzE2Mzg5MTY1NDMsIDEzNS4yMDM5MzYxODk5ODQ1MiAxNzguNTkyNDcxMTExNTc3MiwgMC41NzUzNzQ0NjQ0MjM2ODA4IDE4MC4xOTIwNTQzODI3MTUyNyBNMzU1LjE0NDkwODA1Njc5NzkzIDE3OS4yNTQ1OTQ0MTE0Njk0NyBDMjUyLjkwNTc2NzY2NjE2Mzc0IDE4MC42MDg1ODg1OTkxNzcsIDE0OS42NzkyMDgwODA1MTE4IDE4MS4zNjMyMDE2NjI1NTg3NCwgLTAuNDYwMDQ4MTI4MjE4MDk2NSAxNzguNDU1MzMxNDI4NTAwMjQgTTAuNzY5OTA2NDI1ODQ4NjAzMiAxNzkuMTg5NjA0ODUzNjYzNTUgQzAuNTQzOTkwMDA5OTg2MDk0NiAxMjMuODQ4MjQ5Nzk4MTM0MTMsIC0wLjUwMzQ1NjA2MjExNTQ5ODQgNjYuMjAwMjU5ODM5NjUwNiwgLTAuMjQwNDEyNzQ3NDg3NDI1OCAtMC45NjM3MzM5NjU1MzA5OTE2IE0wLjg4ODYwMTkzMTc0MzMyMzggMTc4Ljc0MDM2OTg5NzcxOTQzIEMxLjMxNzU2MjMzNDk0NzU1MDcgMTI4Ljc0MzMxMzY0MjcwMzE2LCAxLjI1MjgxOTIwMzU0ODM5NiA3OS40MTc1MzQ0MzM4OTA1MSwgLTAuNTA3ODY3NDUyNjg4NTE1MiAwLjczMDE5MTI3MjY4MzQ0MTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjEuNTQ2MjA0NTU1NzkyNjYgMTUxLjM3MjU0ODAzNDg3MTA0KSByb3RhdGUoMCAxOTcuODczMDQ2ODc1IDYuNTAyODcwMDg1MDkzODg5KSI+PHRleHQgeD0iMCIgeT0iMTAuMDA1NzQwMTcwMTg3Nzk0IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMC44ODA1MTA4MDI4MDg3MjRweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RHJhZyB5b3UgYXZhdGFyIGludG8gYSBtZWV0aW5nIGFyZWEgYW5kIHlvdSBjYW4gdGFsayB3aXRoIG90aGVycyBpbiB0aGUgc2FtZSBhcmVhPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODEuMDMwNTc5NTU1NzkyNyAyMDYuMjQzNjQxNzg0ODcxMDQpIHJvdGF0ZSgwIDI5LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPkNoYXQgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuNjMyNDQ3NTU2NjA3MzAzIDI1My41NjM5NjM2NzA1NDExKSByb3RhdGUoMCAxMTYuMjU1ODcyMTYzNjYxMjUgNzYuOTU3NzE0NDgyODY4MDYpIj48cGF0aCBkPSJNMS4xMzg4NTQxNzQyNTE2MjE2IDEuMDkwMzgyOTA5MDMzODU4NCBDNTcuODAwMDQ1MDg4OTY3MzggLTIuOTg2OTUwOTgwMDcxMjU5LCAxMTguNTY3NzA5MzQwMzk2NjggLTIuNzQ1NTE2MzE5NTY3MzYyNiwgMjMzLjAzNDkyMDQwODQ3NTIgLTAuODYwNDQzODk4MjY1MjQyMyBNLTAuMzg4NjE3MjcwMzg0NTM3NzUgMC41MzIwOTc5MDI3Mjg5MDc2IEM3My4yNjc5NTc3ODIxNTg1NSAwLjU2NTUyMzg3OTk0NzI3NTYsIDE0Ni4xODk4NTE1NjY0ODE5IDEuMzg0NDA0NjM0NzM3NjA3MywgMjMyLjExODExNjI2OTMwOTM1IDAuNTUwNDI3NzA0NzE0MTAzOCBNMjM0LjMyMjI5MTE0ODMwNTggMC45MDU1OTU2ODQ0MjQwNDI3IEMyMzEuOTQxNzIwMDI1MDM1NCA0OC45MTEwMjMxMjI1NDg2MiwgMjM1LjAwNzM0NDA4MzI4MjAyIDEwMC40NjkzMzE4MDE1MTc5MiwgMjMzLjc4MjY1MjA5MjU3Njg4IDE1My45MDQxNjU1NTk4MzE5NCBNMjMxLjYyMDczMTEwNDU3NTk1IC0wLjA5OTI3NTE5ODc2NTA5OTA1IEMyMzMuMDM5NjcyODQyMTU3NTYgNDguMTE5NDM3ODI5Njc2NCwgMjMyLjY5OTQ0NTMyNzY1MjE3IDk3LjUxMjI1NjUwMjM0Mzk3LCAyMzIuOTcxNzIyMTQ1MDQ0MTcgMTUzLjUwNDY2ODIwODIyMjc3IE0yMzMuMjE3NzQxOTI4MjM3NDQgMTU0LjgxOTg4MDU1MTY4MjEzIEMxNTguMzA2MzgxNzk2ODY0IDE1NC42NDYzMzQ0MDcxMzQ2NywgODMuNTc0Nzc2MTMxODI5NSAxNTMuNzE2ODYzNzYzODUyODQsIC0xLjAwMDI5OTg2NjM0MDg3NjYgMTUyLjUyNDcyMTgzMzYwNTcyIE0yMzIuMTM5Mzg2NTg5MDQwMiAxNTQuNDI0MzgyOTg4ODk2NyBDMTUyLjU2NjcyMTMwNjMzNzY4IDE1NC45MDI5MTczMjUwNTY1NiwgNzQuMDM1MjQxMTg1MzU0NjggMTU0LjExOTYxNzI0MzMzMTAyLCAtMC41NTcwMTk3NDcyMDI5MDczIDE1My40NzAyNzgzNDQ2MDEyIE0tMS4yNDQ1ODkwMjUxNTQ3MDk4IDE1Mi4zNTg1OTU3MjI3Mzg1OCBDLTMuMDgxNzg3MDM3Nzk3NTExIDEwNC44NjgxNTc5NTc3ODc4NiwgLTIuNDA1MDE0MTQ1MzIyMzgzIDU3LjIzMTUwNDc1Mzk5NDM2LCAxLjQ5MDYyNDY3MTgwMTkyNDcgMS45NDM1MzI1NTA3MDc0NTk0IE0tMC4wMzg1NTgwMjM5ODE3NTAwMSAxNTQuNjgxMDUzMzQyNjgxMyBDMC40OTg0MjQ1ODc0MjE1MDMyIDEwNi4yMzM5OTIzNDgwODk1NCwgMC40NTEzNDcwMjEwMzYyMzQwMyA1Ny41NzkxNDAwMjUwNjc1OSwgLTAuOTM1MDcwMjY0MTUzMTgyNSAtMC43NzY3MjA5MzgyNzI3NzQyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEyLjk4MzcwNDU1NTc5MjY2IDIzMC4wODM0ODU1MzQ4NzEwNCkgcm90YXRlKDAgNzEgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPlZpZGUvU2NyZWVuIFNoYXJlIEFyZWE8L3RleHQ+PC9nPjwvc3ZnPg==) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[392,313],size:[415,208],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""}},D(1,382,82,180,115)),D(2,614,82,180,115)),{},{share:{type:"media",position:[69,343],size:[272,177],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}}),phone:Object(u.a)(Object(u.a)({},D(0,45,40,45,500)),{},{share:{type:"media",position:[100,40],size:[1e3,500],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}}),igo:Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({chat:{type:"chat",position:[45,200],size:[240,310],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""}},O(1,300,40)),O(2,300,200)),O(3,300,360)),O(4,560,40)),O(5,560,200)),O(6,560,360)),O(7,820,40)),O(8,820,200)),O(9,820,360)),office1:Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({background:{type:"background",position:[0,0],size:[1021,676],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/111254880-55862c80-8659-11eb-88f1-3aaa42ba2b68.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[40,480],size:[380,190],zIndex:0,background:"white",border:"skyblue solid 3px",iframe:""}},D(1,77,244,273,230)),D(2,297,41,135,125)),D(3,385,321,113,75)),{},{share:{type:"media",position:[540,405],size:[480,270],zIndex:0,background:"rgba(0, 240, 0, 0.3)",border:"",iframe:""},go:{type:"goboard",position:[820,95],size:[200,120],zIndex:0,background:"rgba(0,240,0,0.6)",border:"",iframe:""},go2:{type:"goboard",position:[820,220],size:[200,120],zIndex:0,background:"rgba(0,100,240,0.6)",border:"",iframe:""}}),office2:Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({background:{type:"background",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/118205142-ab7d2200-b49a-11eb-863a-3a9a5560d7df.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[85,530],size:[375,200],zIndex:0,background:"rgba(206,206,206,0.9)",border:"#2C2F33 solid 2px",iframe:""}},D(1,220,180,240,180)),D(2,863,230,250,230)),D(3,650,47,160,160)),D(4,64,315,100,45)),D(5,64,388,100,45)),D(6,64,457,100,45)),{},{share:{type:"media",position:[600,480],size:[510,250],zIndex:0,background:"rgba(0,0,0,0.2)",border:"limegreen solid 2px",iframe:""}},O(10,865,5)),office3:Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({background:{type:"background",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/120201967-fc459680-c260-11eb-8b1f-6bb108476f2f.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[56,340],size:[250,394],zIndex:0,background:"rgba(167,194,211,0.9)",border:"#2C2F33 solid 3px",iframe:""}},D(1,575,295,200,130)),D(2,516,555,200,180)),D(3,441,373,100,100)),D(4,684,17,100,45)),D(5,684,83,100,45)),D(6,684,149,100,45)),{},{share:{type:"media",position:[763,643],size:[350,90],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},go:{type:"goboard",position:[320,594],size:[180,140],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},movable1:{type:"background",position:[244,109],size:[36,36],zIndex:0,background:"url(https://user-images.githubusercontent.com/17561803/120613305-12d23480-c491-11eb-91ba-d338c3ba631e.png) center center / cover",border:"",iframe:""}})},T="gatherRegionMap",z=n(2),I=n.n(z),b=n(3),x=n(13),p=n(108),l=n(144),y=function(){var e=Object(b.a)(I.a.mark((function e(t,n){var c,a,M,r,i,s,o,u,N,j;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof ImageCapture){e.next=21;break}return c=new ImageCapture(n),e.next=4,Object(l.a)(2e3);case 4:return e.prev=4,e.next=7,c.takePhoto();case 7:return M=e.sent,e.next=10,createImageBitmap(M);case 10:a=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,c.grabFrame();case 17:a=e.sent;case 18:return r=a.width,i=a.height,e.abrupt("return",{srcImg:a,srcW:r,srcH:i});case 21:return(s=document.createElement("video")).autoplay=!0,s.setAttribute("playsinline",""),s.style.display="block",s.style.width="1px",s.style.height="1px",s.style.position="absolute",s.style.bottom="0",document.body.appendChild(s),o=function(){document.body.removeChild(s)},s.srcObject=t,e.next=34,Object(l.a)(2e3);case 34:return u=s,N=s.videoWidth,j=s.videoHeight,e.abrupt("return",{srcImg:u,srcW:N,srcH:j,dispose:o});case 38:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(I.a.mark((function e(t){var n,a,M,r,i,s,o,u,N,j,g,D,O,d,T,z,b,x,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,width:1280,height:720}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return a=e.sent,M=a.getVideoTracks(),r=Object(c.a)(M,1),i=r[0],s=document.createElement("canvas"),o=s.getContext("2d"),u=72,N=72,s.width=u,s.height=N,e.next=13,y(a,i);case 13:return j=e.sent,g=j.srcImg,D=j.srcW,O=j.srcH,d=j.dispose,T=Math.max(u/D,N/O),z=Math.min(D,u/T),b=Math.min(O,N/T),x=(D-z)/2,p=(O-b)/2,o.drawImage(g,x,p,z,b,0,0,u,N),d&&d(),i.stop(),e.abrupt("return",s.toDataURL("image/jpeg"));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return Object(p.c)(e)&&"string"===typeof e.image&&function(e){return Object(p.c)(e)&&"string"===typeof e.nickname&&"string"===typeof e.message&&"boolean"===typeof e.liveMode&&"boolean"===typeof e.micOn&&"boolean"===typeof e.speakerOn}(e.info)&&"number"===typeof e.updated},w=function(e,t,n,a,r,i,s,o,g,D){var O=Object(M.useState)(),d=Object(c.a)(O,2),T=d[0],z=d[1],p=Object(M.useState)([]),l=Object(c.a)(p,2),y=l[0],w=l[1];return Object(M.useEffect)((function(){var n=Object(j.a)(e,t),c=n.ydoc.getMap("faceImages"),a=function(){w((function(e){var a=Object(x.a)(e),M=!1;c.forEach((function(e,n){if(n!==t&&f(e)){var c=a.findIndex((function(e){return e.userId===n}));-1===c?(a.push(e),M=!0):e.updated>a[c].updated&&(a[c]=e,M=!0)}}));var r=Date.now()-6e5,i=a.filter((function(e){return e.updated>=r&&n.userIdMap[e.userId]}));return(M=M||a.length!==i.length)?i:e}))};c.observe(a);var M=Object(N.subscribe)(n.userIdMap,a);return a(),function(){M(),c.unobserve(a)}}),[e,t]),Object(M.useEffect)((function(){var c,M=Object(j.a)(e,t),N=M.ydoc.getMap("faceImages"),O=!1,d=function(){var e=Object(b.a)(I.a.mark((function e(){var j,T;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!i){e.next=7;break}e.t0=n,e.next=10;break;case 7:return e.next=9,m(D);case 9:e.t0=e.sent;case 10:if(j=e.t0,!O){e.next=13;break}return e.abrupt("return");case 13:z(j),T={userId:t,image:j,info:{nickname:a,message:r,liveMode:s,micOn:o,speakerOn:g},updated:Date.now()},N.set(t,T),M.ydoc.transact((function(){var e=Date.now()-12e4;N.forEach((function(t,n){t.updated>=e&&N.set(n,Object(u.a)({},t))}))})),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),console.error(e.t1);case 23:c=setTimeout(d,12e4);case 24:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}();return d(),function(){O=!0,clearTimeout(c)}}),[e,t,D,n,a,r,i,s,o,g]),{myImage:T,roomImages:y}},k=function(e){var t=Object(M.useState)(!1),n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(M.useEffect)((function(){if(e){var t=function(){var t=Date.now()-12e4;r(e<t)},n=setInterval(t,1e4);return t(),function(){return clearInterval(n)}}}),[e]),a},A=n(1540),E=n(1541),h=n(401),v=function(){var e=Object(b.a)(I.a.mark((function e(t){var n,a,M,r,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{audio:{deviceId:t}}:{audio:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return a=e.sent,M=a.getAudioTracks(),r=Object(c.a)(M,1),i=r[0],e.next=7,i.applyConstraints({echoCancellation:!0,echoCancellationType:{ideal:"system"},noiseSuppression:{ideal:!0}});case 7:return s=function(){i.stop()},e.abrupt("return",{stream:a,dispose:s});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t,n){var c=t||new MediaStream;return c.addTrack(e),c.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})),e.addEventListener("ended",(function(){c.removeTrack(e),0===c.getTracks().length&&n(c)})),c},Q=(n(651),r.a.memo((function(e){var t=e.roomId,n=e.userId,r=Object(M.useState)(""),i=Object(c.a)(r,2),s=i[0],o=i[1],u=Object(M.useState)("background"),N=Object(c.a)(u,2),g=N[0],D=N[1],O=Object(M.useState)(100),d=Object(c.a)(O,2),z=d[0],I=d[1],b=Object(M.useState)(100),p=Object(c.a)(b,2),l=p[0],y=p[1],m=Object(M.useState)(100),f=Object(c.a)(m,2),w=f[0],k=f[1],A=Object(M.useState)(100),E=Object(c.a)(A,2),h=E[0],v=E[1],Y=Object(M.useState)(0),Q=Object(c.a)(Y,2),U=Q[0],C=Q[1],S=Object(M.useState)(""),L=Object(c.a)(S,2),Z=L[0],G=L[1],B=Object(M.useState)(""),R=Object(c.a)(B,2),H=R[0],W=R[1],P=Object(M.useState)(""),F=Object(c.a)(P,2),J=F[0],X=F[1],V=Object(M.useState)(null),K=Object(c.a)(V,2),q=K[0],_=K[1],$=Object(x.a)(Object(j.a)(t,n).ydoc.getMap(T).keys());return Object(a.jsxs)("div",{className:"RegionEditor-container",children:[Object(a.jsx)("h3",{children:"Region Editor"}),Object(a.jsxs)("label",{children:["Region ID:"," ",Object(a.jsx)("input",{value:s,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)("select",{onChange:function(e){!function(e){if(o(e),e){var c=Object(j.a)(t,n).ydoc.getMap(T).get(e);D(c.type),I(c.position[0]),y(c.position[1]),k(c.size[0]),v(c.size[1]),C(c.zIndex),G(c.background),W(c.border),X(c.iframe)}}(e.target.value)},children:[Object(a.jsx)("option",{value:"",children:"(Select to load existing region)"}),$.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{children:["Type:"," ",Object(a.jsxs)("select",{value:g,onChange:function(e){return D(e.target.value)},children:[Object(a.jsx)("option",{value:"background",children:"Background"}),Object(a.jsx)("option",{value:"meeting",children:"Meeting"}),Object(a.jsx)("option",{value:"chat",children:"Chat"}),Object(a.jsx)("option",{value:"media",children:"Media"}),Object(a.jsx)("option",{value:"goboard",children:"Go Board"})]})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{children:["Left:"," ",Object(a.jsx)("input",{type:"number",value:z,onChange:function(e){return I(Number(e.target.value))}})]}),Object(a.jsxs)("label",{children:["Top:"," ",Object(a.jsx)("input",{type:"number",value:l,onChange:function(e){return y(Number(e.target.value))}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{children:["Width:"," ",Object(a.jsx)("input",{type:"number",value:w,onChange:function(e){return k(Number(e.target.value))}})]}),Object(a.jsxs)("label",{children:["Height:"," ",Object(a.jsx)("input",{type:"number",value:h,onChange:function(e){return v(Number(e.target.value))}})]}),Object(a.jsx)("hr",{}),"chat"!==g&&Object(a.jsxs)("label",{children:["zIndex:"," ",Object(a.jsx)("input",{type:"number",value:U,max:0,onChange:function(e){return C(Number(e.target.value))}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{children:["Background:"," ",Object(a.jsx)("input",{value:Z,onChange:function(e){return G(e.target.value)}})]}),Object(a.jsxs)("label",{children:["Border:"," ",Object(a.jsx)("input",{value:H,onChange:function(e){return W(e.target.value)}})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("label",{children:["Iframe:"," ",Object(a.jsx)("input",{value:J,onChange:function(e){return X(e.target.value)}})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("button",{type:"button",onClick:function(){return function(){var e={type:g,position:[z,l],size:[w,h],zIndex:U,background:Z,border:H,iframe:J};Object(j.a)(t,n).ydoc.getMap(T).set(s,e)}()},disabled:!s,children:"Add/Update Region"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("button",{type:"button",className:"RegionEditor-toggle",onClick:function(){q?_(null):function(){var e=Object(j.a)(t,n).ydoc.getMap(T);_(JSON.stringify(e.toJSON()))}()},children:["Import/Export ",q?Object(a.jsx)(a.Fragment,{children:"\u25bc"}):Object(a.jsx)(a.Fragment,{children:"\u25b6"})]}),!!q&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:["All Region Data:"," ",Object(a.jsx)("textarea",{value:q,onChange:function(e){return _(e.target.value)}})]}),Object(a.jsx)("button",{type:"button",onClick:function(){var e=Object(j.a)(t,n).ydoc.getMap(T);try{Object.entries(JSON.parse(q||"")).forEach((function(t){var n=Object(c.a)(t,2),a=n[0],M=n[1];e.set(a,M)})),_(null)}catch(a){console.log("failed to save all region data",a)}},children:"Replace (Be careful)"})]})]})}))),U=r.a.memo((function(e){var t=e.statusMesg,n=e.suspended,r=e.toggleSuspended,i=e.setStatusMesg,o=Object(M.useState)(t),u=Object(c.a)(o,2),N=u[0],j=u[1],g=Object(M.useState)(!n),D=Object(c.a)(g,2),O=D[0],d=D[1],T=Object(M.useState)(""),z=Object(c.a)(T,2),I=z[0],b=z[1];return Object(a.jsxs)("div",{className:"RegionEditor-container",children:[Object(a.jsx)("h3",{children:"Setting"}),Object(a.jsxs)("label",{children:["Camera :"," ",Object(a.jsx)("button",{type:"button",onClick:function(){d(!O)},children:O?"on":"off"})]}),Object(a.jsx)("hr",{}),!O&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["Avatar:"," ",Object(a.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e&&e[0];if(t)if(t.size>16384)window.alert("Too large: ".concat(t.size));else{var n=new FileReader;n.onload=function(){"string"===typeof n.result&&b(n.result)},n.readAsDataURL(t)}}(e.target.files)}})]}),Object(a.jsx)("hr",{})]}),Object(a.jsxs)("label",{children:["Message:"," ",Object(a.jsx)("input",{type:"text",defaultValue:N||"",onChange:function(e){j(e.target.value)}})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("button",{type:"button",onClick:function(){null!==N&&i(N),n===O&&r(),n&&I&&Object(s.b)(I)},children:"update"})]})})),C=(n(652),n(29)),S=n(10),L=function(){var e=Object(b.a)(I.a.mark((function e(t){var n,c,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.slice(0,20),e.next=3,Object(S.h)(t.slice(C.a));case 3:return c=e.sent,e.next=6,window.crypto.subtle.exportKey("jwk",c);case 6:return a=e.sent.k,e.abrupt("return","https://excalidraw.com/#room=".concat(n,",").concat(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=r.a.memo((function(e){var t=e.roomId,n=Object(M.useState)(),r=Object(c.a)(n,2),i=r[0],s=r[1];Object(M.useEffect)((function(){Object(b.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,L(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]);var o="remote-faces://".concat(window.location.href.replace(/^https:\/\//,""));return Object(a.jsxs)("div",{className:"LinkOpener-container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{title:"Share this link with your colleagues",children:"Room Link: "}),Object(a.jsx)("input",{value:window.location.href,readOnly:!0})]}),Object(a.jsx)("div",{children:Object(a.jsx)("a",{href:o,title:"Open this link in the desktop app",children:"Open App"})}),Object(a.jsx)("div",{children:Object(a.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:"Open Excalidraw"})})]})})),G=(n(653),n(654),r.a.memo((function(){return Object(a.jsx)("div",{className:"Loading-container",children:Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)("div",{children:"Loading..."})})})}))),B=(n(655),n(28)),R=n(402),H=r.a.memo((function(e){var t=e.image,n=e.nickname,c=e.statusMesg,M=e.setStatusMesg,r=e.updated,i=e.inFaceList,s=e.liveMode,o=e.stream,u=e.muted,N=e.micOn,j=e.speakerOn,g=k(r),D=r&&new Date(r),O=Object(x.a)(c)[0],d=M?String.fromCodePoint(128221):"";O&&(d=Object(R.b)(O)?O:String.fromCodePoint(128172));return Object(a.jsxs)("div",{className:"FaceCard-container",style:{opacity:g?.2:1},children:[s&&o?Object(a.jsx)("video",{className:"FaceCard-photo",ref:function(e){e&&e.srcObject!==o&&(e.srcObject=o)},autoPlay:!0,playsInline:!0,muted:u}):Object(a.jsx)("img",{src:t||B.a,className:"FaceCard-photo",alt:"faceImage"}),Object(a.jsx)("div",{className:"FaceCard-name",children:n}),i&&M&&Object(a.jsx)("button",{type:"button",className:"FaceCard-mesg",title:c||"(No status message)",onClick:function(){if(M){var e=window.prompt("Enter status message");null!==e&&M(e)}},children:d}),i&&!M&&Object(a.jsx)("div",{className:"FaceCard-mesg",title:c||"(No status message)",children:d}),i&&D&&Object(a.jsx)("div",{className:"FaceCard-updated",children:Object(a.jsx)("span",{title:D.toLocaleString(),children:"".concat("0".concat(D.getHours()).slice(-2),":").concat("0".concat(D.getMinutes()).slice(-2))})}),!i&&s&&o&&Object(a.jsxs)("div",{className:"FaceCard-mic-speaker-icons",children:[N&&Object(a.jsx)("span",{title:"Mic On",children:"\ud83c\udfa4"}),j&&Object(a.jsx)("span",{title:"Speaker On",children:"\ud83d\udd08"})]})]})})),W=r.a.memo((function(e){var t=e.roomId,n=e.userId,c=e.avatar,M=e.nickname,r=e.statusMesg,s=e.setStatusMesg,o=e.videoDeviceId,u=e.suspended,N=Object(i.useSnapshot)(Object(j.a)(t,n).userIdMap),g=w(t,n,c,M,r,u,!1,!1,!1,o),D=g.myImage,O=g.roomImages;return Object(a.jsxs)("div",{className:"FaceList-list",children:[Object(a.jsx)("div",{className:"FaceList-item",children:Object(a.jsx)(H,{image:D,nickname:M,statusMesg:r,setStatusMesg:s,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})}),O.map((function(e){return Object(a.jsx)("div",{className:"FaceList-item",children:Object(a.jsx)(H,{image:"number"===typeof N[e.userId]?e.image:B.c,nickname:e.info.nickname,statusMesg:e.info.message,updated:e.updated,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})},e.userId)})),!O.length&&Object(a.jsx)("div",{className:"FaceList-item",children:Object(a.jsx)(G,{})})]})})),P=n(31),F=r.a.lazy((function(){return Promise.all([n.e(6),n.e(11)]).then(n.bind(null,1545))})),J=r.a.lazy((function(){return n.e(15).then(n.bind(null,1546))})),X=r.a.lazy((function(){return Promise.all([n.e(17),n.e(13)]).then(n.bind(null,1547))})),V=function(e,t,n){if(n){var c=t[n],a=c.position,M=c.size;return a[0]<=e.position[0]&&a[1]<=e.position[1]&&e.position[0]+36<=a[0]+M[0]&&e.position[1]+36<=a[1]+M[1]}},K=r.a.memo((function(e){var t,n=e.roomId,c=e.userId,r=e.nickname,i=e.id,s=e.data,o=e.highlight,u=e.setPosition,N=e.registerOnMouseDrag;return"micon-meeting"===o?t="0 0 0 5px rgba(255, 0, 0, 0.6)":"active-meeting"===o?t="0 0 0 3px rgba(255, 0, 0, 0.3)":"meeting"===o&&(t="0 0 0 1px rgba(255, 0, 0, 0.3)"),Object(a.jsxs)("div",{className:"GatherArea-region",style:{left:"".concat(s.position[0],"px"),top:"".concat(s.position[1],"px"),width:"".concat(s.size[0],"px"),height:"".concat(s.size[1],"px"),boxShadow:t,zIndex:"chat"!==s.type?s.zIndex:void 0,background:s.background,border:s.border},onMouseDown:function(e){if("background"===s.type&&(e.preventDefault(),u)){var t=e.currentTarget,n=[e.clientX-s.position[0],e.clientY-s.position[1]];N((function(e){var c=e.clientX-n[0],a=e.clientY-n[1];t.style.left="".concat(c,"px"),t.style.top="".concat(a,"px"),u([c,a])}))}},children:[s.iframe&&Object(a.jsx)("iframe",{title:i,src:s.iframe,frameBorder:"0"}),"chat"===s.type&&Object(a.jsx)(M.Suspense,{fallback:Object(a.jsx)(P.a,{}),children:Object(a.jsx)(F,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"media"===s.type&&Object(a.jsx)(M.Suspense,{fallback:Object(a.jsx)(P.a,{}),children:Object(a.jsx)(J,{roomId:n,userId:c,nickname:r,uniqueId:i})}),"goboard"===s.type&&Object(a.jsx)(M.Suspense,{fallback:Object(a.jsx)(P.a,{}),children:Object(a.jsx)(X,{roomId:n,userId:c,uniqueId:i})})]})})),q=r.a.memo((function(e){var t=e.nickname,n=e.statusMesg,c=e.setStatusMesg,M=e.image,r=e.updated,i=e.position,s=e.setPosition,o=e.registerOnMouseDrag,u=e.stream,N=e.liveMode,j=e.muted,g=e.micOn,D=k(r);return Object(a.jsxs)("div",{className:"GatherArea-avatar",style:{left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},onMouseDown:function(e){if(e.preventDefault(),s){var t=e.currentTarget,n=[e.clientX-i[0],e.clientY-i[1]];o((function(e){var c=e.clientX-n[0],a=e.clientY-n[1];t.style.left="".concat(c,"px"),t.style.top="".concat(a,"px"),s([c,a])}))}},children:[n&&Object(a.jsx)("div",{className:"GatherArea-avatar-balloon",style:{opacity:D?.2:1},children:n}),Object(a.jsx)(H,{image:M,nickname:t,statusMesg:n,setStatusMesg:c,updated:r,liveMode:N,stream:u,muted:!!j,micOn:!!g,speakerOn:N})]})})),_=r.a.memo((function(e){var t=e.roomId,n=e.userId,r=e.avatar,s=e.nickname,D=e.statusMesg,O=e.setStatusMesg,z=e.videoDeviceId,x=e.audioDeviceId,p=e.toggleSuspended,l=e.suspended,y=w(t,n,r,s,D,l,!1,!1,!1,z),m=y.myImage,f=y.roomImages,k=function(e,t){var n,a=Object(M.useState)({}),r=Object(c.a)(a,2),i=r[0],s=r[1],g=Object(M.useState)({position:(n=t,[parseInt(n.slice(0,2),16)/2+50,parseInt(n.slice(2,4),16)/2+30])}),D=Object(c.a)(g,2),O=D[0],z=D[1];Object(M.useEffect)((function(){var n=Object(j.a)(e,t),c=n.ydoc.getMap("gatherAvatarMap"),a=function(){s((function(e){var a=Object(u.a)({},e),M=!1;return c.forEach((function(e,c){var r,i;c!==t&&n.userIdMap[c]&&function(e){try{var t=e;return"number"===typeof t.position[0]&&"number"===typeof t.position[1]}catch(n){return!1}}(e)&&(a[c]?(r=e,i=a[c],(r.position[0]!==i.position[0]||r.position[1]!==i.position[1])&&(a[c]=e,M=!0)):(a[c]=e,M=!0))})),Object.keys(a).forEach((function(e){n.userIdMap[e]||(delete a[e],M=!0)})),M?a:e}))};c.observe(a);var M=Object(N.subscribe)(n.userIdMap,a);return a(),function(){M(),c.unobserve(a)}}),[e,t]);var I=Object(M.useRef)();Object(M.useEffect)((function(){O&&(I.current?I.current=O:(I.current=O,setTimeout((function(){Object(j.a)(e,t).ydoc.getMap("gatherAvatarMap").set(t,I.current),I.current=void 0}),500)))}),[e,t,O]);var b=Object(M.useState)({}),x=Object(c.a)(b,2),p=x[0],l=x[1];Object(M.useEffect)((function(){var n=Object(j.a)(e,t).ydoc.getMap(T),a=function(){l((function(e){var t={};return n.forEach((function(n,c){var a,M;(function(e){try{var t=e;return!(!["background","meeting","chat","media","goboard"].includes(t.type)||"number"!==typeof t.position[0]||"number"!==typeof t.position[1]||"number"!==typeof t.size[0]||"number"!==typeof t.size[1]||"undefined"!==typeof t.zIndex&&"number"!==typeof t.zIndex||"undefined"!==typeof t.background&&"string"!==typeof t.background||"undefined"!==typeof t.border&&"string"!==typeof t.border||"undefined"!==typeof t.iframe&&"string"!==typeof t.iframe)}catch(n){return!1}})(n)&&(e[c]&&(M=n,(a=e[c]).type===M.type&&a.position[0]===M.position[0]&&a.position[1]===M.position[1]&&a.size[0]===M.size[0]&&a.size[1]===M.size[1]&&a.zIndex===M.zIndex&&a.background===M.background&&a.border===M.border&&a.iframe===M.iframe)?t[c]=e[c]:t[c]=n)})),t}))};n.observe(a),a();var M=setTimeout((function(){var e=Object(o.c)()||"",t=d[e];t&&(n.size>0||Object.entries(t).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],M=t[1];n.set(a,M)})))}),1e4);return function(){clearTimeout(M),n.unobserve(a)}}),[e,t]);var y=Object(M.useRef)({}),m=Object(M.useCallback)((function(n,c){clearTimeout(y.current[n]),y.current[n]=setTimeout((function(){Object(j.a)(e,t).ydoc.getMap(T).set(n,c)}),500)}),[e,t]);return{avatarMap:i,myAvatar:O,setMyAvatar:z,regionMap:p,updateRegion:m}}(t,n),C=k.avatarMap,S=k.myAvatar,L=k.setMyAvatar,G=k.regionMap,B=k.updateRegion,R=Object(M.useRef)(),H=Object(M.useCallback)((function(e){R.current=e}),[]),P=function(e,t){return Object.keys(t).sort((function(e,n){var c,a;return(null!==(c=t[n].zIndex)&&void 0!==c?c:0)-(null!==(a=t[e].zIndex)&&void 0!==a?a:0)})).find((function(n){var c=t[n],a=c.type,M=c.position,r=c.size;return"meeting"===a&&M[0]<=e.position[0]+36&&M[1]<=e.position[1]+36&&e.position[0]<=M[0]+r[0]&&e.position[1]<=M[1]+r[1]}))}(S,G),F=V(S,G,P),J=function(e,t,n,a,r,s,o,N){var D="".concat(N||"face","Video"),O="".concat(N||"face","Audio"),d=Object(M.useState)(null),T=Object(c.a)(d,2),z=T[0],x=T[1],p=Object(M.useState)({}),l=Object(c.a)(p,2),y=l[0],m=l[1],f=Object(M.useRef)(!0);Object(M.useEffect)((function(){return function(){f.current=!1}}),[]);var w=function(e){var t,n=Object(c.a)(e,2),a=n[0],M=n[1];if("ended"!==M.readyState&&!(null===(t=y[a])||void 0===t?void 0:t.getTracks().includes(M))){var r=function(e){f.current&&m((function(t){var n=t[a],c=Object(A.a)(t,[a].map(E.a));return n===e?c:t}))};m((function(e){var t=e[a],n=Y(M,t,r);return t===n?e:Object(u.a)(Object(u.a)({},e),{},Object(g.a)({},a,n))}))}},k=Object(i.useSnapshot)(Object(j.a)(e,t).trackMap);return Object.entries(k[D]||{}).forEach(w),Object.entries(k[O]||{}).forEach(w),Object(M.useEffect)((function(){var a=Object(j.a)(e,t),M=null;return n&&Object(b.a)(I.a.mark((function e(){var t,n,r,i,o,u,N,j;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(s);case 2:t=e.sent,n=t.stream,r=t.dispose,i=n.getVideoTracks(),o=Object(c.a)(i,1),u=o[0],a.addMediaType(D),a.addTrack(D,u),N=function(e){f.current&&x((function(t){return t===e?null:t}))},x((function(e){return Y(u,e,N)})),j=function(){a.removeMediaType(D),a.removeTrack(D),r(),u.dispatchEvent(new Event("ended"))},!1===M?j():M=j;case 12:case"end":return e.stop()}}),e)})))(),function(){M&&M(),M=!1}}),[e,t,n,s,D]),Object(M.useEffect)((function(){var n=Object(j.a)(e,t),M=null;return a&&Object(b.a)(I.a.mark((function e(){var t,a,r,i,s,u,N,j;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(o);case 2:t=e.sent,a=t.stream,r=t.dispose,i=a.getAudioTracks(),s=Object(c.a)(i,1),u=s[0],n.addMediaType(O),n.addTrack(O,u),N=function(e){f.current&&x((function(t){return t===e?null:t}))},x((function(e){return Y(u,e,N)})),j=function(){n.removeMediaType(O),n.removeTrack(O),r(),u.dispatchEvent(new Event("ended"))},!1===M?j():M=j;case 12:case"end":return e.stop()}}),e)})))(),function(){M&&M(),M=!1}}),[e,t,a,o,O]),Object(M.useEffect)((function(){if(z){z.getAudioTracks().forEach((function(e){e.enabled=r}));var e=function(e){var t=e.track;"audio"===t.kind&&(t.enabled=r)};return z.addEventListener("addtrack",e),function(){z.removeEventListener("addtrack",e)}}}),[z,r]),{faceStream:z,faceStreamMap:y}}(t,n,!!P,!!P,!!F,z,x,"gatherArea/meeting/".concat(P,"/")),X=J.faceStream,_=J.faceStreamMap,$=Object(M.useState)(null),ee=Object(c.a)($,2),te=ee[0],ne=ee[1];return Object(a.jsxs)("div",{className:"GatherArea-container",children:[Object(a.jsxs)("div",{className:"GatherArea-body",onMouseMove:function(e){R.current&&R.current(e)},onMouseUp:function(){H()},children:[Object.entries(G).map((function(e){var M=Object(c.a)(e,2),r=M[0],i=M[1];return Object(a.jsx)(K,{roomId:t,userId:n,nickname:s,id:r,data:i,highlight:r===P&&(F?"micon-meeting":"active-meeting")||("meeting"===i.type?"meeting":void 0),setPosition:function(e){return B(r,Object(u.a)(Object(u.a)({},i),{},{position:e}))},registerOnMouseDrag:H},r)})),Object.entries(C).map((function(e){var t=Object(c.a)(e,2),M=t[0],r=t[1];if(M===n)return null;var i=f.find((function(e){return e.userId===M}));return i?Object(a.jsx)(q,{nickname:i.info.nickname,statusMesg:i.info.message,image:i.image,updated:i.updated,position:r.position,registerOnMouseDrag:H,stream:_[M],liveMode:!!P,micOn:V(r,G,P)},M):null})),Object(a.jsx)(q,{nickname:s,statusMesg:D,setStatusMesg:O,image:m,position:S.position,setPosition:function(e){return L((function(t){return Object(u.a)(Object(u.a)({},t),{},{position:e})}))},registerOnMouseDrag:H,stream:X||void 0,liveMode:!!P,muted:!0,micOn:F})]}),Object(a.jsx)("div",{className:"GatherArea-facelist",children:Object(a.jsx)(W,{roomId:t,userId:n,avatar:r,nickname:s,statusMesg:D,setStatusMesg:O,videoDeviceId:z,suspended:l})}),Object(a.jsxs)("div",{className:"GatherArea-toolbar",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{type:"button",onClick:function(){return ne("setting"===te?null:"setting")},children:"setting"===te?"Close Setting":"Open Setting"}),"setting"===te&&Object(a.jsx)("div",{className:"GatherArea-setting",children:Object(a.jsx)(U,{statusMesg:D,suspended:l,toggleSuspended:p,setStatusMesg:O})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{type:"button",onClick:function(){return ne("region-editor"===te?null:"region-editor")},children:"region-editor"===te?"Close Region Editor":"Open Region Editor"}),"region-editor"===te&&Object(a.jsx)("div",{className:"GatherArea-region-editor",children:Object(a.jsx)(Q,{roomId:t,userId:n})})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{type:"button",onClick:function(){return ne("link-opener"===te?null:"link-opener")},children:"link-opener"===te?"Close Link Opener":"Open Link Opener"}),"link-opener"===te&&Object(a.jsx)("div",{className:"GatherArea-link-opener",children:Object(a.jsx)(Z,{roomId:t})})]})]})]})})),$=r.a.memo((function(){var e=Object(i.useSnapshot)(s.c),t=e.roomId,n=e.userId,r=e.config,u=Object(M.useState)(""),N=Object(c.a)(u,2),j=N[0],g=N[1];return Object(M.useEffect)((function(){Object(o.g)(t)}),[t]),Object(a.jsx)("div",{className:"SingleRoom-container",children:Object(a.jsx)(_,{roomId:t,userId:n,avatar:r.avatar,nickname:r.nickname,statusMesg:j,setStatusMesg:g,suspended:!r.takePhoto,videoDeviceId:r.videoDeviceId,audioDeviceId:r.audioDeviceId,toggleSuspended:s.d})})}));t.default=$},401:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var c=n(2),a=n.n(c),M=n(4),r=n(3),i=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c,r,i,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{video:{deviceId:t}}:{video:!0},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(M.a)(r,1),s=i[0],o=function(){s.stop()},e.abrupt("return",{stream:c,dispose:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c,r,i,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={video:{deviceId:t,frameRate:{max:5},width:{exact:72},height:{exact:72}}},e.next=3,navigator.mediaDevices.getUserMedia(n);case 3:return c=e.sent,r=c.getVideoTracks(),i=Object(M.a)(r,1),s=i[0],o=function(){s.stop()},e.abrupt("return",{stream:c,dispose:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return r}));n(656);var c=n(395),a=n(221),M=c.a,r=function(e){return!!Object(c.b)(e,"apple",a)}},646:function(e,t,n){},647:function(e,t,n){},651:function(e,t,n){},652:function(e,t,n){},653:function(e,t,n){},654:function(e,t,n){},655:function(e,t,n){}}]);
//# sourceMappingURL=9.90c313b2.chunk.js.map