"use strict";(self.webpackChunkremote_faces_web=self.webpackChunkremote_faces_web||[]).push([[235],{29666:(e,t,M)=>{M.r(t),M.d(t,{SingleRoom:()=>R,default:()=>B});var a=M(56167),n=M(14726),i=M(35338),s=M(1239),r=M(23463);const c=(e,t,M,a,n)=>({[`meeting${e}`]:{type:"meeting",position:[t,M],size:[a,n],zIndex:0,background:"",border:"",iframe:""}}),o=(e,t,M)=>({[`gomeeting${e}`]:{type:"meeting",position:[t,M],size:[250,150],zIndex:0,background:"",border:"",iframe:""},[`gobard${e}`]:{type:"goboard",position:[t,M],size:[250,150],zIndex:0,background:"rgba(140, 140, 140, 0.2)",border:"",iframe:""}}),N={intro:{background:{type:"default",position:[36,36],size:[800,500],zIndex:-100,background:"url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY2Ny4yOTIyOTgzMDU3OTI3IDQxOC4xNDczNjEzODYyNzcyIiB3aWR0aD0iMTMzNC41ODQ1OTY2MTE1ODUzIiBoZWlnaHQ9IjgzNi4yOTQ3MjI3NzI1NTQ1Ij4KICA8IS0tIHN2Zy1zb3VyY2U6ZXhjYWxpZHJhdyAtLT4KICAKICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI2NjcuMjkyMjk4MzA1NzkyNyIgaGVpZ2h0PSI0MTguMTQ3MzYxMzg2Mjc3MiIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0wLjA0MDc4OTI4NTY3NDY5MTIgMC45Mzk2MDg4MDMwMTg5Mjc0IEMtNi4zODU5NzU3NzkzNTIyODkgLTcuODM1OTk0ODM4NjU1MDIwNCwgLTMxLjkzNzUxNjQ0NjY5ODIxIC00My40NTIxNDcxOTExNjcsIC0zOC42NTQ4NTA0MzU2NzUzODUgLTUyLjI4MDI3ODgzMjcxODg4IE0tMS4zOTY5MzUwNjg2ODU1NjE1IDAuMzg3Mjk5NDc5MjY0NzY2MTYgQy03LjkxNjAyNzI0NzQ2MDEzNjUgLTguMjcwNDExODcyNjUxNDUsIC0zMy4xNzk2MDIyNzkxNDg3NDYgLTQyLjUxNzM2NTQxMTEyODk3LCAtMzkuMjU4MjE3MzcyODA5Nzk2IC01MS4wNjU3MDEyNDgwNjEwNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0tMTIuODE5NTU5MjAxNTg1NTczIC0zMy4xOTc5NDQ4NTk4MDkxMyBDLTIyLjcyOTA5MTEzNzk5NDczIC00MC43NzA0MDI4NDQ1NjY0NiwgLTI5LjU3NzAxMzE2ODExNjA3IC00NC40MzUyOTM5NjAyODc3OSwgLTQxLjE3OTY5NDcyNjAxMDExIC01MC42OTkwMTc1ODA1MzU0MSBNLTE0LjgzMjg2MTc1NzgyNDY0MiAtMzMuMzI1NjM3MDc1ODg1MDggQy0yMy4wOTQ1OTE4MzE5MjYwOTUgLTM5LjQ0ODUwODEzMzYwMzIzLCAtMjkuNDgyNTU4MTQwMzcxMTc1IC00NS4xNjMzNTk5OTQ5MDM5MywgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My40OTc3NzM1MzAyNzk3NDQgMjAzLjQwMTc2NDQxNTczNjI0KSByb3RhdGUoMCAtMTkuNjA4NzE0MDQzNTY3NTQ1IC0yNS42NzAzMzUwMTQ4NDk5NjgpIj48cGF0aCBkPSJNLTI5LjQyMDQ3NTMwMjAzMDM1OCAtMjEuMTM0MzgwNDE5MjM3MTU0IEMtMzQuNTE3NjY0NzMwMTM4MzY0IC0zMi4yMzY3OTEyMjA5NzQ4MSwgLTM2LjUxNTcxMjE4OTA1OTA5NCAtMzkuNDI1OTkyMzI0NDMyNDM2LCAtNDEuMTc5Njk0NzI2MDEwMTEgLTUwLjY5OTAxNzU4MDUzNTQxIE0tMzEuNDMzNzc3ODU4MjY5NDI2IC0yMS4yNjIwNzI2MzUzMTMxMSBDLTM0LjY3MzY3MzM5NDc0NDQ1IC0zMS4xMTQxMTM5MjIyMzUwMDYsIC0zNS45MjU4ODQ3MzQ2NzkxNDQgLTQwLjU2MTAxOTUyMzE0NTQ1NCwgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguNTA3MTUxMDU3MjU0MzA1IDIwNy4wODIxNjEzODY5ODAyNikgcm90YXRlKDAgMjYuODczNjY2OTA1NTM0NjM0IDcuNjMwNzk0MzA2NTA5ODQxKSI+PHRleHQgeD0iMCIgeT0iMTIuMjYxNTg4NjEzMDE5NjgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzA5MnB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5GYWNlIExpc3Q8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA5MS45NTMyMDg4MTIzODY0OSA2Mi4xODA5MDgwMjEzMTE4MzYpIj48cGF0aCBkPSJNMzEuMDkwNDU0MDEwNjU1OTE1IDAgTTMxLjA5MDQ1NDAxMDY1NTkxNSAwIEM2MS4wMjY0NzI3NDM3Nzc3NDUgMCwgOTAuOTYyNDkxNDc2ODk5NTcgMCwgMTUyLjgxNTk2MzYxNDExNzEgMCBNMTUyLjgxNTk2MzYxNDExNzEgMCBDMTczLjU0MjkzMjk1NDU1NDM3IDAsIDE4My45MDY0MTc2MjQ3NzMgMTAuMzYzNDg0NjcwMjE4NjQsIDE4My45MDY0MTc2MjQ3NzMgMzEuMDkwNDU0MDEwNjU1OTE1IE0xODMuOTA2NDE3NjI0NzczIDMxLjA5MDQ1NDAxMDY1NTkxNSBDMTgzLjkwNjQxNzYyNDc3MyA1Mi42MjY4Mjg3MDA3OTU0MTQsIDE4My45MDY0MTc2MjQ3NzMgNzQuMTYzMjAzMzkwOTM0OTIsIDE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgTTE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgQzE4My45MDY0MTc2MjQ3NzMgMTEzLjk5ODMzMTM3MjQwNTAyLCAxNzMuNTQyOTMyOTU0NTU0MzcgMTI0LjM2MTgxNjA0MjYyMzY2LCAxNTIuODE1OTYzNjE0MTE3MSAxMjQuMzYxODE2MDQyNjIzNjYgTTE1Mi44MTU5NjM2MTQxMTcxIDEyNC4zNjE4MTYwNDI2MjM2NiBDMTIyLjM4MTg1MjIwNjMxMjg2IDEyNC4zNjE4MTYwNDI2MjM2NiwgOTEuOTQ3NzQwNzk4NTA4NiAxMjQuMzYxODE2MDQyNjIzNjYsIDMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgTTMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgQzEwLjM2MzQ4NDY3MDIxODY0IDEyNC4zNjE4MTYwNDI2MjM2NiwgMCAxMTMuOTk4MzMxMzcyNDA1MDIsIDAgOTMuMjcxMzYyMDMxOTY3NzQgTTAgOTMuMjcxMzYyMDMxOTY3NzQgQzAgNjguNzAxMDc4NjE1NDc1NTQsIDAgNDQuMTMwNzk1MTk4OTgzMzM2LCAwIDMxLjA5MDQ1NDAxMDY1NTkxNSBNMCAzMS4wOTA0NTQwMTA2NTU5MTUgQzAgMTAuMzYzNDg0NjcwMjE4NjQsIDEwLjM2MzQ4NDY3MDIxODY0IDAsIDMxLjA5MDQ1NDAxMDY1NTkxNSAwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iMyA2Ij48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMS44NDU1MTM2Mjc3NzM1OCAyMS40NjQ0OTk0NDQxMDQ5NDUpIHJvdGF0ZSgwIDMwLjg1NDk1MDg5MTUzOTc3MiA3LjYzMDc5NDMwNjUwOTg0MSkiPjx0ZXh0IHg9IjAiIHk9IjEyLjI2MTU4ODYxMzAxOTY4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcwOThweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RW50cnkgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjUuOTEzMzg0ODEwNzE0ODkgMTM5LjEwNzQyODcwODQyNTgpIHJvdGF0ZSgwIDU5IDYpIj48dGV4dCB4PSIwIiB5PSIxMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMTAuNjE2NzU3Mjk2MDEzNjgxcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPllvdSBjYW4gZHJhZyB5b3VyIGF2YXRhcjwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgwLjMxMjEzNTA1NjYwNzMgMzEuMjA4NDk0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC45NjU4MTM2NDIzNjc3MjA2IDAuNzkwMzMwNzMyMjQxMjcyOSBDNTkuOTI2MDgxODMzNzkyOTcgLTIuNTQwMDEwMzg1OTkwNzcwNiwgMTI0LjAzNTUyNTY2OTEzOTEyIC0xLjM3OTY0NTEwMjUwMTU0MzMsIDE2OC42ODM5NzY0MjQzMzczMiAtMS45ODUyMjYyNDkzMjIyOTUyIE0wLjA5NTA2MDI0MTQwODY0NjEgMC42NTI5MTMwMzY3NTYyMTc1IEM0NC4wNzQ5MTU2NTcwMzQ3NCAyLjI3MDc5MDQ0NjA5MDQyMDUsIDg2Ljk2ODg0NTk3MDQyNjk0IDEuNzY0MTc0NzE3OTUwNTQzMSwgMTY3LjkwMDA1OTIxMjQwOTg0IC0wLjQ1Mjk2MzIwMDM5Nzc4OTUgTTE2OC43MjgyNDgzNzAyOTA3IC0wLjkzNDEyMzEzNDI0MDUwODEgQzE2OC44ODkzMDA0MDE1ODA4NCAyMi41NjAxOTg5NDg1NDU2NDcsIDE2Ni4xOTM3ODU1NDM4MTE4MyA0NS42MTAzMzE5NTk2NzY1MywgMTY2LjQ5ODk0MjU2NjUxNDkgMTEwLjc0Njc4OTI3MDQ2NDMyIE0xNjcuNzg0NjI3MTg4NDA3NzcgLTAuNDcyMTkzODA0NTY5NTQyNCBDMTcwLjE2ODc0NzEyNTkzMjYgMjYuNDEwNDYzNzc4OTc1NzksIDE3MC4xNjQ0MTEzMzUwNjAwNCA1My42NjEwNzQ2NjI5OTcxOTQsIDE2OC41OTY0MTgzOTk3NzQ0MiAxMTAuMDAyNzM2NTQwODk0OTQgTTE2Ny42NTcyNDM0NDMxMzIzMyAxMTEuMDg4NDA0NDcwNTA3MDQgQzEwOC4wOTg4Njc4ODk0NjMyOSAxMTIuMjIzNzg5NzU4MzMzMzcsIDQ1LjEwOTQ2Nzc4NDQwMjY1IDExMy4wMzI5NTQ5MzgwNjI4MywgLTEuNjU0MzU3NjA2NTQ1MDkwNyAxMDkuMDA1MzQwOTI3NjY0MTggTTE2Ny40NDc3NzU2MjEzNzc4MiAxMDkuODY3MTgwNTU4MzA1MjIgQzEwNS43MTM1NTA4NTIyNzQ1NSAxMTAuOTMwNDI4ODY4NjYzMTYsIDQ0LjQ2MTgyMTM5MTA5MzYzNiAxMTEuNTU5NzcwODU4NDE4NzksIDAuODI0NDk1MDU5NDM4MDQ5OCAxMDkuNzAyMzgwNTk5ODM3NzQgTTEuMzcwNDEzNjA2OTg2NDAzNSAxMDkuNzM2NTg5MzA2NDE3ODQgQy0wLjk1ODA3OTU0MjQxNzAyMDUgNzYuMDExNzIyMjI5ODc4MzIsIC0xLjY2OTM5ODY5MDk1NzUxNzQgNDEuMDgxMDY5NDAxOTk2MDIsIDEuNTM1MTAxMTgwODk2MTYzIDAuODY5MTAzMDM4NjgzNTMzNyBNLTAuNzM3NDg1NDI2NDc4MDg3OSAxMTEuMzQyMzQ0OTQxOTU1MDUgQzAuMDAwNDM3MDA0Njg0Nzk5OTAyMDcgNzQuMjg0NjkzMTg4MTU4MzcsIC0xLjY5NDE0NzI3NTU2NzY1NjggMzkuMjQ0MzQ3NzYyMTgxNTMsIDAuODc2NjA3MTkxNzQ4OTE3MSAwLjcwNTc1MjkxMTk3NzQ2OTkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTQuNjU5NDg1ODA1NzkyNjYgMTIuMDQ4MzI5Mjg0ODcxMDQ1KSByb3RhdGUoMCA0NC41IDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5NZWV0aW5nIEFyZWEgMTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc1LjAzODY5NzU1NjYwNzMgMzEuOTg5NzQ0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC4zOTU5MTA2NDQ5MDM3NzkwMyAtMC45OTcyNTk4NDk2ODI0NTAzIEM0OS41NDc4MTEzMzM3Nzk3OSAtMi42NDQ4MTQ3MzMxMjI5NTA2LCA5OC4xNDc2MTI3OTQ3NTA1MyAtMS43MDc3MDk3MzMxMDM4NzcsIDE2OC45ODU1MDEwODIwOTM0IDAuOTExNTI4Mjk0OTA2MDIwMiBNLTAuODI3MTc4ODAzMjcyNTQ1MyAtMC43NDgwMTI3NjkwMzU5OTUgQzU0LjQxNDI5ODUwNjE3MDU4IC0xLjg2NzE2Nzk0ODg3NjY3NDQsIDEwOC4wNTAzNDA0NDQyMTQ3OCAtMS45NTM5MTE2OTExMDQyMjg3LCAxNjcuNzY0Mjc3MTY5ODkxNTkgLTAuNzg3OTM3NTk5MjM0MjgzIE0xNzAuMDQ3NDUzMTk2MTk4NjMgLTEuNTk3OTcxNzMxNzk2ODYwNyBDMTY4LjU0NzMyMDQyMDk4MjA2IDI3Ljk1MjgxNjAwNDQ4NDI2LCAxNjcuNTk1MjA5MzU1NTk0MzMgNTUuODI4NzQzNzQwMTU1MDI2LCAxNjcuNjMzNjg1OTE4MDA0MiAxMDkuOTQzMTA5MDEwNzI5OTMgTTE2OS4xNjYwMTM2Njc3NzA2IDAuNDM0NTUxNTE5MzQxNzY2ODMgQzE2Ny45MzM0MDM0NzYxMjUxNiAzNS44OTcxOTM3MjM3NjQzOSwgMTY3Ljg0MjY3NTU4MDYyNjkgNjkuNDc5Mzg1Njc5NDY4NzUsIDE2OS4yMzk0NDE1NTM1NDE0IDExMS4zNzMzOTIwMjcyNTUxNCBNMTcwLjE1MTY3NzQ2MDgyMDM3IDExMS45MTI4NzIyODk2OTExMSBDMTI0LjMyMzg2MTkwNjM1OTYxIDExMS4yNjAyMzI3NTAwNzI3MywgODEuNjUxMTAwNDQ0MzA2MDggMTExLjc3MjIzMTcwMTUwNzgyLCAxLjY5ODQ4MDY4OTg5ODEzMzMgMTA5Ljg2Mjc0ODUzODUyNzYzIE0xNjguOTc3MjQ1MjUxMTI3NDcgMTEwLjg5NTY3ODIwMzkzNjY1IEMxMDYuOTczNTU2MDAyMTU1MzYgMTA4LjcyMDc4NTYzMTcwNDk0LCA0Ni4wMjk0MDk0MDkxMjgwOSAxMDkuMTUzMzI3MDkxNTAzNzUsIC0wLjY2NjYwNDIxODA3MzE4OTMgMTEwLjg0OTE1NTg1NDgxNzQ3IE0tMS45OTM5OTIyNDQ4MjQ3NjcxIDExMC41MDE3MTY1Mjk0MDI4NyBDMS43OTI3ODk2MTkxNDA0NzU3IDc1LjQzOTcxMTg2MzkxMTkxLCAwLjk4OTIzNDMwOTM2Nzk4NDQgNDAuMzA2MjQwNzUyNDk4MSwgMS41MzQwMDE0OTM4MjY1MDg1IC0wLjIxMzg5MTUwMDYwNzEzMjkgTS0wLjY5MzA3NTExNzY1NTA5ODQgMTExLjA3MjM2MjEzNjQ3OTQ2IEMwLjAyNjEwNjAyNDQ1MjQ0MzU4OCA4MC43ODcwMTA1NTUxNTE4LCAtMS4yNzgxNTE0NTc4Mzc4MjQ0IDUyLjAwNDA4MjI2MDI2MjEyLCAtMC42MDIwMzI4NjcyNjAyNzczIC0wLjcyODUzNTUyMDg0NDE2MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDkuODA3OTIzMzA1NzkyNyAxMS42NjE2MTA1MzQ4NzEwNDUpIHJvdGF0ZSgwIDQ0LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPk1lZXRpbmcgQXJlYSAyPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTMuMjM3OTE2MzA2NjA3MyAyMjkuMTEwODM4NjcwNTQxMSkgcm90YXRlKDAgMTc3LjY4OTQ2NTkxMzY2MTI1IDg5LjUxODI2MTM1Nzg2ODA2KSI+PHBhdGggZD0iTS0wLjU5MzUyMzcxOTEwNjI2NiAtMC4zNjYwNzgxMzM1MDc5MTI3NCBDODkuNzQ2Nzg5MTQ4NjQ0NzUgMC45MDk2ODU1MTA4ODEwNTA0LCAxNzguNzIxNTM1NjM2MDMzMiAwLjQzMDgxOTU0OTQ1NjcxMjg2LCAzNTUuNDk0NjU0NTY2OTA0IC0wLjgwMjUwMDk0NzMwMTI3ODIgTS0wLjUyNDE2Nzc4NjI0ODIyMjQgMC4yNzI3NTA2OTg1MTYyNzM4IEMxNDEuMzU0MDExMzUyNDM0NzggMC41NzQ1MjE2NDkwODMxNTQ3LCAyODIuNzQxMjAwODQ3MDIxODQgLTAuMDc1OTYwMzk0MTU3Njg4NDYsIDM1NS41NDU1OTkwMjYxNDY3NiAtMC40OTM5OTc1NDc1MDg2NDQxNiBNMzU3LjE4NzE0MTUwOTIwNTk2IDAuMDg5NTU0MTk2MjIzNjE2NiBDMzUzLjU4ODY4NTY2NjY4MDMgNjAuOTYwNDM3Mjg5MjU3ODEsIDM1NS4zNDAwNzE1MzQyNzYgMTI0LjA1MDE5ODE3NDY1MDQsIDM1Ny4yMDIyMjQ0MDQ5NjE3IDE3OS4xOTI1Mzc5Mzg2MjgzIE0zNTQuNTcxNDIzMDkzMjY3NjQgMC43NDU4OTg0Mzc2ODYyNjQ1IEMzNTQuMTkxNTA5OTM5MDY4NyA0NC41NjcxODg3MDAzNjQwMSwgMzU0LjQwMDc4MjIzNDMwNTI3IDg5LjIwNjE3OTM0OTA4OTExLCAzNTYuMjc2Mjk2ODYzNzQzIDE3OS43NDQxOTU3NzA4NTU5NSBNMzU2LjMwNTUzMDUxNTM2ODEgMTc4LjcxMTQ5MDQ2NDIwODMgQzI0NC45MDc2MTgzOTU3MzgyNCAxNzguNzQwMzE2Mzg5MTY1NDMsIDEzNS4yMDM5MzYxODk5ODQ1MiAxNzguNTkyNDcxMTExNTc3MiwgMC41NzUzNzQ0NjQ0MjM2ODA4IDE4MC4xOTIwNTQzODI3MTUyNyBNMzU1LjE0NDkwODA1Njc5NzkzIDE3OS4yNTQ1OTQ0MTE0Njk0NyBDMjUyLjkwNTc2NzY2NjE2Mzc0IDE4MC42MDg1ODg1OTkxNzcsIDE0OS42NzkyMDgwODA1MTE4IDE4MS4zNjMyMDE2NjI1NTg3NCwgLTAuNDYwMDQ4MTI4MjE4MDk2NSAxNzguNDU1MzMxNDI4NTAwMjQgTTAuNzY5OTA2NDI1ODQ4NjAzMiAxNzkuMTg5NjA0ODUzNjYzNTUgQzAuNTQzOTkwMDA5OTg2MDk0NiAxMjMuODQ4MjQ5Nzk4MTM0MTMsIC0wLjUwMzQ1NjA2MjExNTQ5ODQgNjYuMjAwMjU5ODM5NjUwNiwgLTAuMjQwNDEyNzQ3NDg3NDI1OCAtMC45NjM3MzM5NjU1MzA5OTE2IE0wLjg4ODYwMTkzMTc0MzMyMzggMTc4Ljc0MDM2OTg5NzcxOTQzIEMxLjMxNzU2MjMzNDk0NzU1MDcgMTI4Ljc0MzMxMzY0MjcwMzE2LCAxLjI1MjgxOTIwMzU0ODM5NiA3OS40MTc1MzQ0MzM4OTA1MSwgLTAuNTA3ODY3NDUyNjg4NTE1MiAwLjczMDE5MTI3MjY4MzQ0MTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjEuNTQ2MjA0NTU1NzkyNjYgMTUxLjM3MjU0ODAzNDg3MTA0KSByb3RhdGUoMCAxOTcuODczMDQ2ODc1IDYuNTAyODcwMDg1MDkzODg5KSI+PHRleHQgeD0iMCIgeT0iMTAuMDA1NzQwMTcwMTg3Nzk0IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMC44ODA1MTA4MDI4MDg3MjRweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RHJhZyB5b3UgYXZhdGFyIGludG8gYSBtZWV0aW5nIGFyZWEgYW5kIHlvdSBjYW4gdGFsayB3aXRoIG90aGVycyBpbiB0aGUgc2FtZSBhcmVhPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODEuMDMwNTc5NTU1NzkyNyAyMDYuMjQzNjQxNzg0ODcxMDQpIHJvdGF0ZSgwIDI5LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPkNoYXQgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuNjMyNDQ3NTU2NjA3MzAzIDI1My41NjM5NjM2NzA1NDExKSByb3RhdGUoMCAxMTYuMjU1ODcyMTYzNjYxMjUgNzYuOTU3NzE0NDgyODY4MDYpIj48cGF0aCBkPSJNMS4xMzg4NTQxNzQyNTE2MjE2IDEuMDkwMzgyOTA5MDMzODU4NCBDNTcuODAwMDQ1MDg4OTY3MzggLTIuOTg2OTUwOTgwMDcxMjU5LCAxMTguNTY3NzA5MzQwMzk2NjggLTIuNzQ1NTE2MzE5NTY3MzYyNiwgMjMzLjAzNDkyMDQwODQ3NTIgLTAuODYwNDQzODk4MjY1MjQyMyBNLTAuMzg4NjE3MjcwMzg0NTM3NzUgMC41MzIwOTc5MDI3Mjg5MDc2IEM3My4yNjc5NTc3ODIxNTg1NSAwLjU2NTUyMzg3OTk0NzI3NTYsIDE0Ni4xODk4NTE1NjY0ODE5IDEuMzg0NDA0NjM0NzM3NjA3MywgMjMyLjExODExNjI2OTMwOTM1IDAuNTUwNDI3NzA0NzE0MTAzOCBNMjM0LjMyMjI5MTE0ODMwNTggMC45MDU1OTU2ODQ0MjQwNDI3IEMyMzEuOTQxNzIwMDI1MDM1NCA0OC45MTEwMjMxMjI1NDg2MiwgMjM1LjAwNzM0NDA4MzI4MjAyIDEwMC40NjkzMzE4MDE1MTc5MiwgMjMzLjc4MjY1MjA5MjU3Njg4IDE1My45MDQxNjU1NTk4MzE5NCBNMjMxLjYyMDczMTEwNDU3NTk1IC0wLjA5OTI3NTE5ODc2NTA5OTA1IEMyMzMuMDM5NjcyODQyMTU3NTYgNDguMTE5NDM3ODI5Njc2NCwgMjMyLjY5OTQ0NTMyNzY1MjE3IDk3LjUxMjI1NjUwMjM0Mzk3LCAyMzIuOTcxNzIyMTQ1MDQ0MTcgMTUzLjUwNDY2ODIwODIyMjc3IE0yMzMuMjE3NzQxOTI4MjM3NDQgMTU0LjgxOTg4MDU1MTY4MjEzIEMxNTguMzA2MzgxNzk2ODY0IDE1NC42NDYzMzQ0MDcxMzQ2NywgODMuNTc0Nzc2MTMxODI5NSAxNTMuNzE2ODYzNzYzODUyODQsIC0xLjAwMDI5OTg2NjM0MDg3NjYgMTUyLjUyNDcyMTgzMzYwNTcyIE0yMzIuMTM5Mzg2NTg5MDQwMiAxNTQuNDI0MzgyOTg4ODk2NyBDMTUyLjU2NjcyMTMwNjMzNzY4IDE1NC45MDI5MTczMjUwNTY1NiwgNzQuMDM1MjQxMTg1MzU0NjggMTU0LjExOTYxNzI0MzMzMTAyLCAtMC41NTcwMTk3NDcyMDI5MDczIDE1My40NzAyNzgzNDQ2MDEyIE0tMS4yNDQ1ODkwMjUxNTQ3MDk4IDE1Mi4zNTg1OTU3MjI3Mzg1OCBDLTMuMDgxNzg3MDM3Nzk3NTExIDEwNC44NjgxNTc5NTc3ODc4NiwgLTIuNDA1MDE0MTQ1MzIyMzgzIDU3LjIzMTUwNDc1Mzk5NDM2LCAxLjQ5MDYyNDY3MTgwMTkyNDcgMS45NDM1MzI1NTA3MDc0NTk0IE0tMC4wMzg1NTgwMjM5ODE3NTAwMSAxNTQuNjgxMDUzMzQyNjgxMyBDMC40OTg0MjQ1ODc0MjE1MDMyIDEwNi4yMzM5OTIzNDgwODk1NCwgMC40NTEzNDcwMjEwMzYyMzQwMyA1Ny41NzkxNDAwMjUwNjc1OSwgLTAuOTM1MDcwMjY0MTUzMTgyNSAtMC43NzY3MjA5MzgyNzI3NzQyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEyLjk4MzcwNDU1NTc5MjY2IDIzMC4wODM0ODU1MzQ4NzEwNCkgcm90YXRlKDAgNzEgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPlZpZGUvU2NyZWVuIFNoYXJlIEFyZWE8L3RleHQ+PC9nPjwvc3ZnPg==) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[392,313],size:[415,208],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},...c(1,382,82,180,115),...c(2,614,82,180,115),share:{type:"media",position:[69,343],size:[272,177],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},phone:{...c(0,45,40,45,500),share:{type:"media",position:[100,40],size:[1e3,500],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},igo:{chat:{type:"chat",position:[45,200],size:[240,310],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},...o(1,300,40),...o(2,300,200),...o(3,300,360),...o(4,560,40),...o(5,560,200),...o(6,560,360),...o(7,820,40),...o(8,820,200),...o(9,820,360)},office1:{background:{type:"default",position:[0,0],size:[1021,676],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/111254880-55862c80-8659-11eb-88f1-3aaa42ba2b68.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[40,480],size:[380,190],zIndex:0,background:"white",border:"skyblue solid 3px",iframe:""},...c(1,77,244,273,230),...c(2,297,41,135,125),...c(3,385,321,113,75),share:{type:"media",position:[540,405],size:[480,270],zIndex:0,background:"rgba(0, 240, 0, 0.3)",border:"",iframe:""},go:{type:"goboard",position:[820,95],size:[200,120],zIndex:0,background:"rgba(0,240,0,0.6)",border:"",iframe:""},go2:{type:"goboard",position:[820,220],size:[200,120],zIndex:0,background:"rgba(0,100,240,0.6)",border:"",iframe:""}},office2:{background:{type:"default",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/118205142-ab7d2200-b49a-11eb-863a-3a9a5560d7df.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[85,530],size:[375,200],zIndex:0,background:"rgba(206,206,206,0.9)",border:"#2C2F33 solid 2px",iframe:""},...c(1,220,180,240,180),...c(2,863,230,250,230),...c(3,650,47,160,160),share:{type:"media",position:[600,480],size:[510,250],zIndex:0,background:"rgba(0,0,0,0.2)",border:"limegreen solid 2px",iframe:""},...o(10,865,5)},office3:{background:{type:"default",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/120201967-fc459680-c260-11eb-8b1f-6bb108476f2f.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[56,340],size:[250,394],zIndex:0,background:"rgba(167,194,211,0.9)",border:"#2C2F33 solid 3px",iframe:""},...c(1,575,295,200,130),...c(2,516,555,200,180),...c(3,441,373,100,100),share:{type:"media",position:[763,643],size:[350,90],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},go:{type:"goboard",position:[320,594],size:[180,140],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},movable:{type:"default",position:[244,109],size:[36,36],zIndex:0,background:"url(https://user-images.githubusercontent.com/17561803/120613305-12d23480-c491-11eb-91ba-d338c3ba631e.png) center center / contain no-repeat",border:"",iframe:"",movable:!0}},office4:{background:{type:"default",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/52230939/126919537-78c7d05e-26f4-43f6-9fdd-4db8e7fbc098.jpg) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[60,460],size:[230,270],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},...c(1,480,580,220,150),...c(2,160,300,250,140),...c(3,830,190,140,70),movie:{type:"default",position:[763,289],size:[109,63],zIndex:0,background:"",border:"",iframe:"https://www.youtube.com/embed/ofrC1WFeoLw"},share:{type:"media",position:[820,590],size:[290,140],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},go:{type:"goboard",position:[292,590],size:[160,140],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},BeachChair:{type:"default",position:[959,422],size:[35,63],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919528-eac984b0-ce64-4ab1-8973-c429e9a10052.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},BeachChair2:{type:"default",position:[1068,423],size:[35,63],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919528-eac984b0-ce64-4ab1-8973-c429e9a10052.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},ChairA:{type:"default",position:[367,317],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919531-82d14682-c684-4da7-bc83-8ae17861150e.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},ChairB:{type:"default",position:[174,330],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919533-6a09f353-16c2-465d-b09f-ff64b0357418.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},ChairC:{type:"default",position:[345,374],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919534-d4a669f9-c228-4a55-9b2a-df04bd2dd0d1.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},Digda:{type:"default",position:[119,409],size:[26,22],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919535-97212807-b151-4937-8e08-b4fdd1f497e7.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},Kintone:{type:"default",position:[907,110],size:[46,28],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919536-99b58589-238f-44e9-b2a2-f20a615e730c.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},BlockA:{type:"default",position:[400,500],size:[22,19],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126926610-244ca224-89b8-4418-b457-5d23ca34d69e.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},BlockB:{type:"default",position:[430,500],size:[22,19],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126926292-dd184ddb-2a78-4720-8b69-2daa6e911f08.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},BlockC:{type:"default",position:[460,500],size:[22,19],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919530-aeff42a1-a033-4eb1-a395-bc3700b9a54d.png) center center / contain no-repeat",border:"",iframe:"",movable:!0},BlockD:{type:"default",position:[490,500],size:[22,19],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919529-b82d5f24-71ae-482b-987d-55d68829a490.png) center center / contain no-repeat",border:"",iframe:"",movable:!0}}},g=e=>{try{const t=e;return!(!["default","meeting","chat","media","goboard"].includes(t.type)||"number"!==typeof t.position[0]||"number"!==typeof t.position[1]||"number"!==typeof t.size[0]||"number"!==typeof t.size[1]||"undefined"!==typeof t.zIndex&&"number"!==typeof t.zIndex||"undefined"!==typeof t.background&&"string"!==typeof t.background||"undefined"!==typeof t.border&&"string"!==typeof t.border||"undefined"!==typeof t.iframe&&"string"!==typeof t.iframe)}catch(t){return!1}};var d=M(50634),D=M(93057);const z=async e=>{const t={video:{deviceId:e,width:1280,height:720}},M=await navigator.mediaDevices.getUserMedia(t),[a]=M.getVideoTracks(),n=document.createElement("canvas"),i=n.getContext("2d");n.width=72,n.height=72;const{srcImg:s,srcW:r,srcH:c,dispose:o}=await(async(e,t)=>{if("undefined"!==typeof ImageCapture){const e=new ImageCapture(t);let M;await(0,D._)(2e3);try{const t=await e.takePhoto();M=await createImageBitmap(t)}catch(a){M=await e.grabFrame()}return{srcImg:M,srcW:M.width,srcH:M.height}}const M=document.createElement("video");return M.autoplay=!0,M.setAttribute("playsinline",""),M.style.display="block",M.style.width="1px",M.style.height="1px",M.style.position="absolute",M.style.bottom="0",document.body.appendChild(M),M.srcObject=e,await(0,D._)(2e3),{srcImg:M,srcW:M.videoWidth,srcH:M.videoHeight,dispose:()=>{document.body.removeChild(M)}}})(M,a),N=Math.max(72/r,72/c),g=Math.min(r,72/N),d=Math.min(c,72/N),z=(r-g)/2,T=(c-d)/2;return i.drawImage(s,z,T,g,d,0,0,72,72),o&&o(),a.stop(),n.toDataURL("image/jpeg")},T=e=>(0,d.Kn)(e)&&"string"===typeof e.image&&(e=>(0,d.Kn)(e)&&"string"===typeof e.nickname&&"string"===typeof e.message&&"boolean"===typeof e.liveMode&&"boolean"===typeof e.micOn&&"boolean"===typeof e.speakerOn)(e.info)&&"number"===typeof e.updated,I=(e,t,M,i,s,c,o,N,g,d)=>{const D=(0,r.V)(e,t),{userIdList:I,faceImages:u}=(0,n.RK)(D),j=Date.now()-6e5,l=[];I.forEach((e=>{let{userId:t}=e;const M=u[t];T(M)&&M.updated>=j&&l.push(M)}));const[p,y]=(0,a.useState)();return(0,a.useEffect)((()=>{let e,a=!1;const n=async()=>{if(!a){try{const e=c?M:await z(d);if(a)return;y(e);const n={userId:t,image:e,info:{nickname:i,message:s,liveMode:o,micOn:N,speakerOn:g},updated:Date.now()};D.faceImages[t]=n}catch(r){console.error(r)}e=setTimeout(n,12e4)}};return n(),()=>{a=!0,clearTimeout(e)}}),[D,t,d,M,i,s,c,o,N,g]),{myImage:p,roomImages:l}},u=e=>{const[t,M]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(e){const t=()=>{const t=Date.now()-12e4;M(e<t)},a=setInterval(t,1e4);return t(),()=>clearInterval(a)}}),[e]),t};var j=M(7232);const l=(e,t,M)=>{const a=t||new MediaStream;return a.addTrack(e),a.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})),e.addEventListener("ended",(()=>{a.removeTrack(e),0===a.getTracks().length&&M(a)})),a},p=(e,t,M,i,s,c,o,N)=>{const g=`${N||"face"}Video`,d=`${N||"face"}Audio`,[D,z]=(0,a.useState)(null),[T,I]=(0,a.useState)({}),u=(0,a.useRef)(!0);(0,a.useEffect)((()=>()=>{u.current=!1}),[]),(0,a.useEffect)((()=>{M||i||I({})}),[M,i]);const p=e=>{var t;let[M,a]=e;if("ended"===a.readyState)return;if(null!==(t=T[M])&&void 0!==t&&t.getTracks().includes(a))return;const n=e=>{u.current&&I((t=>{const{[M]:a,...n}=t;return a===e?n:t}))};I((e=>{const t=e[M],i=l(a,t,n);return t===i?e:{...e,[M]:i}}))},y=(0,n.RK)((0,r.V)(e,t).trackMap);return Object.entries(y[g]||{}).forEach(p),Object.entries(y[d]||{}).forEach(p),(0,a.useEffect)((()=>{const a=(0,r.V)(e,t);let n=null;return M&&(async()=>{const{stream:e,dispose:t}=await(0,j.j)(c),[M]=e.getVideoTracks();a.addMediaType(g),a.addTrack(g,M);const i=e=>{u.current&&z((t=>t===e?null:t))};z((e=>l(M,e,i)));const s=()=>{a.removeMediaType(g),a.removeTrack(g),t(),M.dispatchEvent(new Event("ended"))};!1===n?s():n=s})(),()=>{n&&n(),n=!1}}),[e,t,M,c,g]),(0,a.useEffect)((()=>{const M=(0,r.V)(e,t);let a=null;return i&&(async()=>{const{stream:e,dispose:t}=await(async e=>{const t=e?{audio:{deviceId:e}}:{audio:!0},M=await navigator.mediaDevices.getUserMedia(t),[a]=M.getAudioTracks();return await a.applyConstraints({echoCancellation:!0,echoCancellationType:{ideal:"system"},noiseSuppression:{ideal:!0}}),{stream:M,dispose:()=>{a.stop()}}})(o),[n]=e.getAudioTracks();M.addMediaType(d),M.addTrack(d,n);const i=e=>{u.current&&z((t=>t===e?null:t))};z((e=>l(n,e,i)));const s=()=>{M.removeMediaType(d),M.removeTrack(d),t(),n.dispatchEvent(new Event("ended"))};!1===a?s():a=s})(),()=>{a&&a(),a=!1}}),[e,t,i,o,d]),(0,a.useEffect)((()=>{if(D){D.getAudioTracks().forEach((e=>{e.enabled=s}));const e=e=>{const{track:t}=e;"audio"===t.kind&&(t.enabled=s)};return D.addEventListener("addtrack",e),()=>{D.removeEventListener("addtrack",e)}}}),[D,s]),{faceStream:D,faceStreamMap:T}};var y=M(37878);const x=(0,a.memo)((e=>{let{roomId:t,userId:M}=e;const n=(0,r.V)(t,M),[i,s]=(0,a.useState)(""),[c,o]=(0,a.useState)("meeting"),[N,g]=(0,a.useState)(100),[d,D]=(0,a.useState)(100),[z,T]=(0,a.useState)(100),[I,u]=(0,a.useState)(100),[j,l]=(0,a.useState)(null);return(0,y.jsxs)("div",{className:"RegionEditor-container",children:[(0,y.jsxs)("label",{children:["Region ID:"," ",(0,y.jsx)("input",{value:i,onChange:e=>s(e.target.value)})]}),(0,y.jsxs)("label",{children:["Type:"," ",(0,y.jsxs)("select",{value:c,onChange:e=>o(e.target.value),children:[(0,y.jsx)("option",{value:"meeting",children:"Meeting"}),(0,y.jsx)("option",{value:"chat",children:"Chat"}),(0,y.jsx)("option",{value:"media",children:"Media"}),(0,y.jsx)("option",{value:"goboard",children:"Go Board"})]})]}),(0,y.jsx)("br",{}),(0,y.jsxs)("label",{children:["Left:"," ",(0,y.jsx)("input",{type:"number",value:N,onChange:e=>g(Number(e.target.value))})]}),(0,y.jsxs)("label",{children:["Top:"," ",(0,y.jsx)("input",{type:"number",value:d,onChange:e=>D(Number(e.target.value))})]}),(0,y.jsxs)("label",{children:["Width:"," ",(0,y.jsx)("input",{type:"number",value:z,onChange:e=>T(Number(e.target.value))})]}),(0,y.jsxs)("label",{children:["Height:"," ",(0,y.jsx)("input",{type:"number",value:I,onChange:e=>u(Number(e.target.value))})]}),(0,y.jsx)("br",{}),(0,y.jsx)("button",{type:"button",onClick:()=>{const e={type:c,position:[N,d],size:[z,I]};n.gatherRegionMap[i]=e},disabled:!i,children:"Add Region (Or overwrite)"}),(0,y.jsx)("hr",{}),(0,y.jsxs)("button",{type:"button",className:"RegionEditor-toggle",onClick:()=>{l(j?null:JSON.stringify(n.gatherRegionMap,null,2))},children:["Import/Export ",j?(0,y.jsx)(y.Fragment,{children:"\u25bc"}):(0,y.jsx)(y.Fragment,{children:"\u25b6"})]}),!!j&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{children:(0,y.jsx)("textarea",{value:j,onChange:e=>l(e.target.value)})}),(0,y.jsx)("br",{}),(0,y.jsx)("button",{type:"button",onClick:()=>{try{Object.entries(JSON.parse(j||"")).forEach((e=>{let[t,M]=e;n.gatherRegionMap[t]=M})),l(null)}catch(e){console.log("failed to save all region data",e)}},children:"Replace (Be careful)"})]})]})})),m=(0,a.memo)((e=>{let{statusMesg:t,suspended:M,toggleSuspended:n,setStatusMesg:s}=e;const[r,c]=(0,a.useState)(t),[o,N]=(0,a.useState)(!M),[g,d]=(0,a.useState)("");return(0,y.jsxs)("div",{className:"MySetting-container",children:[(0,y.jsx)("h3",{children:"Setting"}),(0,y.jsxs)("label",{children:["Camera :"," ",(0,y.jsx)("button",{type:"button",onClick:()=>{N(!o)},children:o?"on":"off"})]}),(0,y.jsx)("hr",{}),!o&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("label",{children:["Avatar:"," ",(0,y.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(e=>{const t=e&&e[0];if(!t)return;if(t.size>16384)return void window.alert(`Too large: ${t.size}`);const M=new FileReader;M.onload=()=>{"string"===typeof M.result&&d(M.result)},M.readAsDataURL(t)})(e.target.files)})]}),(0,y.jsx)("hr",{})]}),(0,y.jsxs)("label",{children:["Message:"," ",(0,y.jsx)("input",{type:"text",defaultValue:r||"",onChange:e=>{c(e.target.value)}})]}),(0,y.jsx)("hr",{}),(0,y.jsx)("button",{type:"button",onClick:()=>{null!==r&&s(r),M===o&&n(),M&&g&&(0,i.UV)(g)},children:"update"})]})}));var O=M(76996),w=M(65954);const A=(0,a.memo)((e=>{let{roomId:t}=e;const[M,n]=(0,a.useState)();(0,a.useEffect)((()=>{(async()=>{n(await(async e=>{const t=e.slice(0,20),M=await(0,w.I1)(e.slice(O.W));return`https://excalidraw.com/#room=${t},${(await window.crypto.subtle.exportKey("jwk",M)).k}`})(t))})()}),[t]);const i=`remote-faces://${window.location.href.replace(/^https:\/\//,"")}`;return(0,y.jsxs)("div",{className:"LinkOpener-container",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{title:"Share this link with your colleagues",children:"Room Link: "}),(0,y.jsx)("input",{value:window.location.href,readOnly:!0})]}),(0,y.jsx)("div",{children:(0,y.jsx)("a",{href:i,title:"Open this link in the desktop app",children:"Open App"})}),(0,y.jsx)("div",{children:(0,y.jsx)("a",{href:M,target:"_blank",rel:"noreferrer",children:"Open Excalidraw"})})]})})),b=(0,a.memo)((()=>(0,y.jsx)("div",{className:"Loading-container",children:(0,y.jsx)("div",{className:"loader",children:(0,y.jsx)("div",{children:"Loading..."})})})));var k=M(64044),h=M(4497);const E=(0,a.memo)((e=>{let{image:t,nickname:M,statusMesg:a,setStatusMesg:n,updated:i,inFaceList:s,liveMode:r,stream:c,muted:o,micOn:N,speakerOn:g}=e;const d=u(i),D=i&&new Date(i),z=[...a][0];let T=n?String.fromCodePoint(128221):"";z&&(T=(0,h.nB)(z)?z:String.fromCodePoint(128172));return(0,y.jsxs)("div",{className:"FaceCard-container",style:{opacity:d?.2:1,cursor:s&&n?"pointer":"inherit"},title:s?a||"(No status message)":void 0,onClick:s&&n?()=>{if(n){const e=window.prompt("Enter status message");null!==e&&n(e)}}:void 0,"aria-hidden":"true",children:[r&&c?(0,y.jsx)("video",{className:"FaceCard-photo",ref:e=>{e&&e.srcObject!==c&&(e.srcObject=c)},autoPlay:!0,playsInline:!0,muted:o}):(0,y.jsx)("img",{src:t||k.Cg,className:"FaceCard-photo",alt:"faceImage"}),(0,y.jsx)("div",{className:"FaceCard-name",children:M}),s&&(0,y.jsx)("div",{className:"FaceCard-mesg",children:T}),s&&D&&(0,y.jsx)("div",{className:"FaceCard-updated",children:(0,y.jsxs)("span",{title:D.toLocaleString(),children:[`${D.getHours()}`.padStart(2,"0"),":",`${D.getMinutes()}`.padStart(2,"0")]})}),!s&&r&&c&&(0,y.jsxs)("div",{className:"FaceCard-mic-speaker-icons",children:[N&&(0,y.jsx)("span",{title:"Mic On",children:"\ud83c\udfa4"}),g&&(0,y.jsx)("span",{title:"Speaker On",children:"\ud83d\udd08"})]})]})})),Y=(0,a.memo)((e=>{let{roomId:t,userId:M,avatar:a,nickname:i,statusMesg:s,setStatusMesg:c,videoDeviceId:o,suspended:N}=e;const g=(0,r.V)(t,M),{userIdList:d}=(0,n.RK)(g),{myImage:D,roomImages:z}=I(t,M,a,i,s,N,!1,!1,!1,o);return(0,y.jsxs)("div",{className:"FaceList-list",children:[(0,y.jsx)("div",{className:"FaceList-item",children:(0,y.jsx)(E,{image:D,nickname:i,statusMesg:s,setStatusMesg:c,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})}),z.map((e=>(0,y.jsx)("div",{className:"FaceList-item",children:(0,y.jsx)(E,{image:d.some((t=>t.userId===e.userId&&"closed"!==t.peerIndex))?e.image:k.d9,nickname:e.info.nickname,statusMesg:e.info.message,updated:e.updated,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})},e.userId))),!z.length&&(0,y.jsx)("div",{className:"FaceList-item",children:(0,y.jsx)(b,{})})]})}));var Q=M(42699),C=M(29886);const U=(0,a.lazy)((()=>Promise.all([M.e(72),M.e(378)]).then(M.bind(M,10378)))),f=(0,a.lazy)((()=>M.e(98).then(M.bind(M,82098)))),L=(0,a.lazy)((()=>Promise.all([M.e(739),M.e(357)]).then(M.bind(M,5357)))),v=(e,t,M)=>{if(!M)return;const{position:a,size:n}=t[M];return a[0]<=e.position[0]&&a[1]<=e.position[1]&&e.position[0]+36<=a[0]+n[0]&&e.position[1]+36<=a[1]+n[1]},S=(0,a.memo)((e=>{let t,{roomId:M,userId:n,nickname:i,id:s,data:r,highlight:c,updateRegion:o,registerOnMouseDrag:N,isSelected:g,setSelectedRegionId:d}=e;return g&&(t="0 0 0 2px rgb(128, 128, 128, 0.9)"),"micon-meeting"===c?t="0 0 0 5px rgba(255, 0, 0, 0.6)":"active-meeting"===c?t="0 0 0 3px rgba(255, 0, 0, 0.3)":"meeting"===c&&(t="0 0 0 1px rgba(255, 0, 0, 0.3)"),(0,y.jsxs)("div",{className:"GatherArea-region",style:{left:`${r.position[0]}px`,top:`${r.position[1]}px`,width:`${r.size[0]}px`,height:`${r.size[1]}px`,boxShadow:t,zIndex:"chat"!==r.type?r.zIndex:void 0,background:r.background,border:r.border},onMouseDown:e=>{if(e.metaKey||e.ctrlKey)return e.preventDefault(),e.stopPropagation(),void d(s);if(!r.movable)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget,M=[e.clientX-parseInt(t.style.left,10),e.clientY-parseInt(t.style.top,10)];N((e=>{if("ended"===e)return;const a=e.clientX-M[0],n=e.clientY-M[1];t.style.left=`${a}px`,t.style.top=`${n}px`,o(s,{...r,position:[a,n]})}))},children:[r.iframe&&(0,y.jsx)("iframe",{title:s,src:r.iframe,frameBorder:"0"}),"chat"===r.type&&(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(Q.F,{}),children:(0,y.jsx)(U,{roomId:M,userId:n,nickname:i,uniqueId:s})}),"media"===r.type&&(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(Q.F,{}),children:(0,y.jsx)(f,{roomId:M,userId:n,nickname:i,uniqueId:s})}),"goboard"===r.type&&(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(Q.F,{}),children:(0,y.jsx)(L,{roomId:M,userId:n,uniqueId:s})}),g&&(0,y.jsx)("div",{className:"GatherArea-region-delete",title:"Delete",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();window.confirm("Are you sure to delete it?")&&o(s,null)},children:"\u274c"}),g&&(0,y.jsx)("div",{className:"GatherArea-region-copy",title:"Copy",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const t=e.target.parentNode.parentNode,M=t.scrollLeft+e.clientX-r.size[0]/2,a=t.scrollTop+e.clientY-r.size[1]/2;o(`${s}_${(0,w.oq)()}`,{...r,position:[M,a]})},children:"\u267b"}),g&&(0,y.jsx)("div",{className:"GatherArea-region-move",title:"Move",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.parentNode,M=[e.clientX-parseInt(t.style.left,10),e.clientY-parseInt(t.style.top,10)];N((e=>{if("ended"===e)return;const a=e.clientX-M[0],n=e.clientY-M[1];t.style.left=`${a}px`,t.style.top=`${n}px`,o(s,{...r,position:[a,n]})}))},children:"\u271b"}),g&&(0,y.jsx)("div",{className:"GatherArea-region-resize",title:"Resize",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.parentNode,M=[e.clientX-parseInt(t.style.width,10),e.clientY-parseInt(t.style.height,10)];N((e=>{if("ended"===e)return;const a=e.clientX-M[0],n=e.clientY-M[1];a<1||n<1||(t.style.width=`${a}px`,t.style.height=`${n}px`,o(s,{...r,size:[a,n]}))}))},children:"\u2198"})]})})),Z=(0,a.memo)((e=>{let{nickname:t,statusMesg:M,image:a,updated:n,position:i,setPosition:s,registerOnMouseDrag:r,stream:c,liveMode:o,muted:N,micOn:g}=e;const d=u(n);return(0,y.jsxs)("div",{className:"GatherArea-avatar",style:{left:`${i[0]}px`,top:`${i[1]}px`},onMouseDown:e=>{if(e.preventDefault(),e.stopPropagation(),s){const t=e.currentTarget,M=[e.clientX-parseInt(t.style.left,10),e.clientY-parseInt(t.style.top,10)];r((e=>{if("ended"===e)return;const a=e.clientX-M[0],n=e.clientY-M[1];t.style.left=`${a}px`,t.style.top=`${n}px`,s([a,n])}))}},children:[M&&(0,y.jsx)("div",{className:"GatherArea-avatar-balloon",style:{opacity:d?.2:1},children:M}),(0,y.jsx)(E,{image:a,nickname:t,statusMesg:M,updated:n,liveMode:o,stream:c,muted:!!N,micOn:!!g,speakerOn:o})]})})),G=(0,a.memo)((e=>{let{roomId:t,userId:M,avatar:i,nickname:c,statusMesg:o,setStatusMesg:d,videoDeviceId:D,audioDeviceId:z,toggleSuspended:T,suspended:u}=e;const{myImage:j,roomImages:l}=I(t,M,i,c,o,u,!1,!1,!1,D),{avatarMap:O,myAvatar:b,setMyAvatar:k,regionMap:h,updateRegion:E}=((e,t)=>{const M=(0,r.V)(e,t),{userIdList:i,gatherAvatarMap:c,gatherRegionMap:o}=(0,n.RK)(M),d={};i.forEach((e=>{let{userId:t}=e;const M=c[t];(e=>{try{const t=e;return"number"===typeof t.position[0]&&"number"===typeof t.position[1]}catch(t){return!1}})(M)&&(d[t]=M)}));const[D,z]=(0,a.useState)({position:(T=t,[parseInt(T.slice(0,2),16)/2+50,parseInt(T.slice(2,4),16)/2+30])});var T;const I=(0,a.useRef)();(0,a.useEffect)((()=>{D&&(I.current?I.current=D:(I.current=D,setTimeout((()=>{M.gatherAvatarMap[t]=I.current,I.current=void 0}),500)))}),[M,t,D]);const u={};Object.entries(o).forEach((e=>{let[t,M]=e;g(M)&&(u[t]=M)})),(0,a.useEffect)((()=>{const e=setTimeout((()=>{const e=(0,s.NW)()||"",t=N[e];t&&(Object.keys(M.gatherRegionMap).length>0||Object.entries(t).forEach((e=>{let[t,a]=e;M.gatherRegionMap[t]=a})))}),1e4);return()=>{clearTimeout(e)}}),[M]);const j=(0,a.useRef)({}),l=(0,a.useCallback)(((e,t)=>{clearTimeout(j.current[e]),j.current[e]=setTimeout((()=>{if(null===t)return void delete M.gatherRegionMap[e];const a=M.gatherRegionMap[e];a&&g(a)?Object.keys(t).forEach((e=>{a[e]=t[e]})):M.gatherRegionMap[e]=t}),500)}),[M]);return{avatarMap:d,myAvatar:D,setMyAvatar:z,regionMap:u,updateRegion:l}})(t,M),[Q,U]=(0,a.useState)(),f=(0,a.useRef)(),L=(0,a.useCallback)((e=>{f.current&&f.current("ended"),f.current=e}),[]),G=((e,t)=>Object.keys(t).sort(((e,M)=>{var a,n;return(null!==(a=t[M].zIndex)&&void 0!==a?a:0)-(null!==(n=t[e].zIndex)&&void 0!==n?n:0)})).find((M=>{const{type:a,position:n,size:i}=t[M];return"meeting"===a&&n[0]<=e.position[0]+36&&n[1]<=e.position[1]+36&&e.position[0]<=n[0]+i[0]&&e.position[1]<=n[1]+i[1]})))(b,h),R=v(b,h,G),{faceStream:B,faceStreamMap:P}=p(t,M,!!G,!!G,!!R,D,z,`gatherArea/meeting/${G}/`),[H,F]=(0,a.useState)(null),W=async e=>{e.preventDefault();const t=("clipboardData"in e?e.clipboardData:e.dataTransfer).getData("text"),M=e.currentTarget||e.target,a="clientX"in e?e.clientX:M.clientWidth/2,n="clientY"in e?e.clientY:M.clientHeight/2;if(/^http.*\.(png|jpg|jpeg|gif|svg)$/.test(t)){const e=36,i=36;E(`img${(0,w.oq)()}`,{type:"default",position:[M.scrollLeft+a-e/2,M.scrollTop+n-i/2],size:[e,i],background:`url(${t}) center center / contain no-repeat`,movable:!0})}else if(/^https:\/\/www.youtube.com\//.test(t)){const e=/([-0-9a-zA-Z]+)$/.exec(t);if(!e)return void window.alert(`Invalid YouTube URL: ${t}`);const i=160,s=120;E(`mov${(0,w.oq)()}`,{type:"default",position:[M.scrollLeft+a-i/2,M.scrollTop+n-s/2],size:[i,s],iframe:`https://www.youtube.com/embed/${e[1]}`,border:"5px solid #F0F0F020"})}else if(t){const e=await(0,C.sc)((new TextEncoder).encode(`\n            <!DOCTYPE html><html>\n            <head>\n              <meta charset="utf-8"/>\n              <style>\n                html, body {\n                  margin: 0; padding: 0;\n                  font: 0.5em -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n                }\n              </style>\n            </head>\n            <body>${t}</body>\n            </html>`)),i=80,s=15;E(`text${(0,w.oq)()}`,{type:"default",position:[M.scrollLeft+a-i/2,M.scrollTop+n-s/2],size:[i,s],iframe:`data:text/html;base64,${e}`,border:"5px solid #F0F0F040",movable:!0})}else window.alert("Unsupported object pasted or dropped")};return(0,y.jsxs)("div",{className:"GatherArea-container",children:[(0,y.jsxs)("div",{className:"GatherArea-body",onDragOver:e=>e.preventDefault(),onDrop:W,onPaste:W,onMouseDown:()=>{U(void 0)},onMouseMove:e=>{f.current&&f.current(e)},onMouseUp:()=>{L()},children:[Object.entries(h).map((e=>{let[a,n]=e;return(0,y.jsx)(S,{roomId:t,userId:M,nickname:c,id:a,data:n,highlight:a===G&&(R?"micon-meeting":"active-meeting")||("meeting"===n.type?"meeting":void 0),updateRegion:E,registerOnMouseDrag:L,isSelected:Q===a,setSelectedRegionId:U},a)})),Object.entries(O).map((e=>{let[t,a]=e;if(t===M)return null;const n=l.find((e=>e.userId===t));return n?(0,y.jsx)(Z,{nickname:n.info.nickname,statusMesg:n.info.message,image:n.image,updated:n.updated,position:a.position,registerOnMouseDrag:L,stream:P[t],liveMode:!!G,micOn:v(a,h,G)},t):null})),(0,y.jsx)(Z,{nickname:c,statusMesg:o,image:j,position:b.position,setPosition:(0,a.useCallback)((e=>k((t=>({...t,position:e})))),[k]),registerOnMouseDrag:L,stream:B||void 0,liveMode:!!G,muted:!0,micOn:R})]}),(0,y.jsx)("div",{className:"GatherArea-facelist",children:(0,y.jsx)(Y,{roomId:t,userId:M,avatar:i,nickname:c,statusMesg:o,setStatusMesg:d,videoDeviceId:D,suspended:u})}),(0,y.jsxs)("div",{className:"GatherArea-toolbar",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{type:"button",onClick:()=>F("setting"===H?null:"setting"),children:"setting"===H?"Close Setting":"Open Setting"}),"setting"===H&&(0,y.jsx)("div",{className:"GatherArea-setting",children:(0,y.jsx)(m,{statusMesg:o,suspended:u,toggleSuspended:T,setStatusMesg:d})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{type:"button",onClick:()=>F("region-editor"===H?null:"region-editor"),children:"region-editor"===H?"Close Region Editor":"Open Region Editor"}),"region-editor"===H&&(0,y.jsx)("div",{className:"GatherArea-region-editor",children:(0,y.jsx)(x,{roomId:t,userId:M})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{type:"button",onClick:()=>F("link-opener"===H?null:"link-opener"),children:"link-opener"===H?"Close Link Opener":"Open Link Opener"}),"link-opener"===H&&(0,y.jsx)("div",{className:"GatherArea-link-opener",children:(0,y.jsx)(A,{roomId:t})})]})]})]})})),R=(0,a.memo)((()=>{const{roomId:e,userId:t,config:M}=(0,n.RK)(i.F3),[r,c]=(0,a.useState)("");(0,a.useEffect)((()=>{(0,s.Pz)(e)}),[e]);const[o,N]=(0,a.useState)(!1);if(o)throw new Error("inactive for too long");return(0,a.useEffect)((()=>{let e=Date.now();const t=setInterval((()=>{const t=Date.now();t-e>=144e5&&N(!0),e=t}),36e5);return()=>{clearInterval(t)}}),[]),(0,y.jsx)("div",{className:"SingleRoom-container",children:(0,y.jsx)(G,{roomId:e,userId:t,avatar:M.avatar,nickname:M.nickname,statusMesg:r,setStatusMesg:c,suspended:!M.takePhoto,videoDeviceId:M.videoDeviceId,audioDeviceId:M.audioDeviceId,toggleSuspended:i.Ki})})})),B=R},7232:(e,t,M)=>{M.d(t,{a:()=>a,j:()=>n});const a=async e=>{const t=e?{video:{deviceId:e}}:{video:!0},M=await navigator.mediaDevices.getUserMedia(t),[a]=M.getVideoTracks();return{stream:M,dispose:()=>{a.stop()}}},n=async e=>{const t={video:{deviceId:e,frameRate:{max:5},width:{exact:72},height:{exact:72}}},M=await navigator.mediaDevices.getUserMedia(t),[a]=M.getVideoTracks();return{stream:M,dispose:()=>{a.stop()}}}},23463:(e,t,M)=>{M.d(t,{V:()=>N});var a=M(30702),n=M(39102),i=M(60985),s=M(1239);var r=M(29886);const c=(e,t)=>{const c=(0,a.sj)({networkStatusList:[],userIdList:[],faceImages:{},gatherAvatarMap:{},gatherRegionMap:{},extraDataListMap:{},acceptingMediaTypes:[],trackMap:{},addMediaType:async e=>{if(c.acceptingMediaTypes.includes(e))return void console.log("media type already added",e);c.acceptingMediaTypes.push(e);(await N).acceptMediaTypes((0,a.CO)(c.acceptingMediaTypes))},removeMediaType:async e=>{const t=c.acceptingMediaTypes.indexOf(e);if(-1===t)return void console.log("media type already added",e);c.acceptingMediaTypes.splice(t,1);(await N).acceptMediaTypes((0,a.CO)(c.acceptingMediaTypes))},addTrack:async(e,t)=>{(await N).addTrack(e,t)},removeTrack:async e=>{(await N).removeTrack(e)},dispose:async()=>{(await N).dispose()}}),o=new n.QW;(0,i.X)(c.faceImages,o.getMap("faceImages")),(0,i.X)(c.gatherAvatarMap,o.getMap("gatherAvatarMap")),(0,i.X)(c.gatherRegionMap,o.getMap("gatherRegionMap")),(0,i.X)(c.extraDataListMap,o.getMap("extraDataListMap"));o.on("update",(async e=>{const t=await(0,r.sc)(e);N.then((e=>{e.broadcastData({ydocUpdate:t})}))}));const N=async function(){let e;return e=(0,s.G7)()?(await Promise.all([M.e(326),M.e(729)]).then(M.bind(M,33413))).createRoom:(0,s.Cd)()?(await Promise.all([M.e(874),M.e(787)]).then(M.bind(M,17904))).createRoom:(await Promise.all([M.e(874),M.e(792),M.e(305)]).then(M.bind(M,24961))).createRoom,e(...arguments)}(e,t,(e=>{console.log((new Date).toLocaleString(),"[network status]",e),c.networkStatusList.unshift(e),c.networkStatusList.length>10&&c.networkStatusList.pop(),"CONNECTION_CLOSED"===(null===e||void 0===e?void 0:e.type)&&c.userIdList.forEach((t=>{t.peerIndex===e.peerIndex&&(t.peerIndex="closed")}))}),(async e=>{const t=n.D$(o),M={ydocUpdate:await(0,r.sc)(t)};N.then((t=>{t.sendData(M,e)}))}),(async(e,t)=>{const M=c.userIdList.find((e=>e.userId===t.userId));if(M?M.peerIndex=t.peerIndex:c.userIdList.push({userId:t.userId,peerIndex:t.peerIndex}),null!==e&&void 0!==e&&e.ydocUpdate){const t=await(0,r.xu)(e.ydocUpdate);n.NG(o,t)}}),((e,t,M)=>{c.trackMap[e]||(c.trackMap[e]={}),t.addEventListener("ended",(()=>{c.trackMap[e][M.userId]===t&&delete c.trackMap[e][M.userId]})),c.trackMap[e][M.userId]=(0,a.iH)(t)}));return c},o=new Map,N=(e,t)=>{const M=`${e}:${t}`;if(!o.has(M)){const a=c(e,t);o.set(M,a)}return o.get(M)}},29886:(e,t,M)=>{M.d(t,{sc:()=>a,xu:()=>n});const a=e=>new Promise((t=>{const M=new FileReader;M.onload=()=>{const e=M.result,a=e.indexOf(",")+1;t(e.slice(a))},M.readAsDataURL(new Blob([e]))})),n=async e=>{const t=await fetch(`data:application/octet-binary;base64,${e}`),M=await t.arrayBuffer();return new Uint8Array(M)}},4497:(e,t,M)=>{M.d(t,{h5:()=>i,nB:()=>s});M(23218);var a=M(13793),n=M(24121);const i=a.cW,s=e=>!!(0,a.$w)(e,"apple",n)},93057:(e,t,M)=>{M.d(t,{_:()=>a});const a=e=>new Promise((t=>{setTimeout(t,e)}))},50634:(e,t,M)=>{M.d(t,{Hk:()=>i,Kn:()=>a,wH:()=>n});const a=e=>"object"===typeof e&&null!==e,n=(e,t)=>"string"===typeof e[t],i=(e,t)=>a(e[t])}}]);
//# sourceMappingURL=235.a55cf0a8.chunk.js.map