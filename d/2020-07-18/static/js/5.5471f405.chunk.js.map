{"version":3,"sources":["utils/excalidraw.ts","components/CollabWhiteBoard.tsx"],"names":["generateExcalidrawURL","roomId","a","id","slice","importCryptoKey","ROOM_ID_PREFIX_LEN","imported","window","crypto","subtle","exportKey","key","k","CollabWhiteBoard","React","memo","useState","url","setUrl","useEffect","excalidrawUrl","className","title","src"],"mappings":"2RAGaA,EAAqB,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DAC7BC,EAAKF,EAAOG,MAAM,EAAG,IADQ,SAEZC,YAAgBJ,EAAOG,MAAME,KAAqB,CACvE,UACA,YAJiC,cAE7BC,EAF6B,gBAMhBC,OAAOC,OAAOC,OAAOC,UAAU,MAAOJ,GANtB,cAM7BK,EAN6B,OAMiCC,EANjC,yDAOIV,EAPJ,YAOUS,IAPV,2CAAH,sDCErBE,EAAmBC,IAAMC,MAEnC,YAAiB,IAAdf,EAAa,EAAbA,OAAa,EACKgB,qBADL,mBACVC,EADU,KACLC,EADK,KAQjB,OANAC,qBAAU,WACR,sBAAC,4BAAAlB,EAAA,sEAC6BF,EAAsBC,GADnD,OACOoB,EADP,OAECF,EAAOE,GAFR,0CAAD,KAIC,CAACpB,IAEF,yBAAKqB,UAAU,8BACZJ,GAAO,4BAAQK,MAAM,aAAaC,IAAKN,QAK/BJ","file":"static/js/5.5471f405.chunk.js","sourcesContent":["import { ROOM_ID_PREFIX_LEN } from \"../network/room\";\nimport { importCryptoKey } from \"./crypto\";\n\nexport const generateExcalidrawURL = async (roomId: string) => {\n  const id = roomId.slice(0, 20);\n  const imported = await importCryptoKey(roomId.slice(ROOM_ID_PREFIX_LEN), [\n    \"encrypt\",\n    \"decrypt\",\n  ]);\n  const key = (await window.crypto.subtle.exportKey(\"jwk\", imported)).k;\n  return `https://excalidraw.com/#room=${id},${key}`;\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport \"./CollabWhiteBoard.css\";\nimport { generateExcalidrawURL } from \"../utils/excalidraw\";\n\nexport const CollabWhiteBoard = React.memo<{\n  roomId: string;\n}>(({ roomId }) => {\n  const [url, setUrl] = useState<string>();\n  useEffect(() => {\n    (async () => {\n      const excalidrawUrl = await generateExcalidrawURL(roomId);\n      setUrl(excalidrawUrl);\n    })();\n  }, [roomId]);\n  return (\n    <div className=\"CollabWhiteBoard-container\">\n      {url && <iframe title=\"Excalidraw\" src={url} />}\n    </div>\n  );\n});\n\nexport default CollabWhiteBoard;\n"],"sourceRoot":""}