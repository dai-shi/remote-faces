(this["webpackJsonpremote-faces-web"]=this["webpackJsonpremote-faces-web"]||[]).push([[2],[,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return A})),n.d(t,"h",(function(){return s}));var r=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).get("roomId")},a=function(e){var t=window.location.hash.slice(1),n=new URLSearchParams(t);n.set("roomId",e),window.location.hash=n.toString()},c=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).has("peerjs")},o=function(){var e=window.location.hash.slice(1),t=new URLSearchParams(e).get("peerjs");try{var n=new URL(t||""),r="https:"===n.protocol,a=r?443:80;return{host:n.host.split(":")[0],port:n.port?Number(n.port):a,path:n.pathname,secure:r}}catch(c){}},i=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).get("webrtcstar")},u=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).has("pubsub")},A=function(){var e=window.location.hash.slice(1);return new URLSearchParams(e).get("roomPreset")},s=function(e){var t=window.location.hash.slice(1),n=new URLSearchParams(t);n.set("roomPreset",e),window.location.hash=n.toString()}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return b}));var r=n(5),a=n(10),c=n(6),o=n(28),i=function(e,t){try{window.localStorage.setItem(e,t)}catch(n){console.info("Failed to save string to localStorage",n)}},u=function(e){try{return window.localStorage.getItem(e)||""}catch(t){return""}},A=u("avatar_img")||o.b,s=u("nickname"),f=u("take_photo"),d=u("faceimage_video_device_id"),l=u("faceimage_audio_device_id"),h=Object(r.proxy)({roomId:Object(c.b)()||"",roomEntered:!1,userId:Object(a.j)(),config:{avatar:A,nickname:s,takePhoto:!!f,videoDeviceId:d,audioDeviceId:l}}),p=function(e,t,n,r,a){h.config={avatar:e,nickname:t,takePhoto:n,videoDeviceId:r,audioDeviceId:a},i("avatar_img",e),i("nickname",t),i("take_photo",n?"yes":""),i("faceimage_video_device_id",r),i("faceimage_video_device_id",r)},v=function(e){h.config.avatar=e,i("avatar_img",e)},b=function(){var e=!h.config.takePhoto;h.config.takePhoto=e,i("take_photo",e?"yes":"")}},,function(e,t,n){"use strict";n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return A})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return g}));var r=n(2),a=n.n(r),c=n(3),o=(n(34),n(32)),i=n(12),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,r=n.encode(t),e.next=4,window.crypto.subtle.digest("SHA-256",r);case 4:return c=e.sent,o=Array.from(new Uint8Array(c)),i=o.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=window.crypto.getRandomValues(new Uint8Array(e)),n=Array.from(t),r=n.map((function(e){return e.toString(16).padStart(2,"0")})).join("");return r},s=function(){return 1e3+window.crypto.getRandomValues(new Uint16Array(1))[0]%9e3},f=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"]);case 2:return t=e.sent,e.next=5,window.crypto.subtle.exportKey("raw",t);case 5:return n=e.sent,r=Array.from(new Uint8Array(n)),c=r.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,o,i,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length>1&&void 0!==u[1]?u[1]:["encrypt","decrypt"],r=t.length/2,c=new Uint8Array(r),o=0;o<r;o+=1)c[o]=parseInt(t.slice(2*o,2*o+2),16);return e.next=6,window.crypto.subtle.importKey("raw",c,{name:"AES-GCM",length:128},!0,n);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.crypto.getRandomValues(new Uint8Array(12)),e.next=3,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,t);case 3:return c=e.sent,(o=new Uint8Array(r.length+c.byteLength)).set(r),o.set(new Uint8Array(c),r.length),e.abrupt("return",o.buffer);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.decrypt({name:"AES-GCM",iv:t.slice(n,n+12)},c,t.slice(n+12,n+r));case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextEncoder,c=r.encode(t),o=i.a.deflate(c),e.abrupt("return",l(o,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,0,t.byteLength,n);case 2:return r=e.sent,c=i.a.inflate(new Uint8Array(r)),o=new TextDecoder("utf-8"),u=o.decode(c),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function b(e,t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function e(t,n){var r,c,o,u,A,s,f,d,h,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]?p[2]:6e4,c=new TextEncoder,o=c.encode(t),u=[],(A=new i.a.Deflate({chunkSize:r})).onData=function(e){u.push(e)},A.push(o,!0),s=u.length,f=window.crypto.getRandomValues(new Uint8Array(4)),d=0;case 10:if(!(d<s)){e.next=21;break}return(h=new Uint8Array(8+u[d].byteLength)).set(f),h.set(new Uint8Array(Uint16Array.of(d).buffer),4),h.set(new Uint8Array(Uint16Array.of(s).buffer),6),h.set(u[d],8),e.next=18,l(h,n);case 18:d+=1,e.next=10;break;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=[],m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,u,A,s,f,d,l,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,0,t.byteLength,n);case 2:if(r=e.sent,c=new Uint32Array(r,0,4)[0],o=new Uint16Array(r,4,2)[0],u=new Uint16Array(r,6,2)[0],A=j.find((function(e){return e.id===c}))){e.next=13;break}A={id:c,len:u,chunks:[]},j.push(A),j.length>100&&j.shift(),e.next=15;break;case 13:if(A.len===u){e.next=15;break}throw new Error("chunk len mismatch");case 15:A.chunks[o]=r,s=0;case 17:if(!(s<u)){e.next=23;break}if(A.chunks[s]){e.next=20;break}return e.abrupt("return",null);case 20:s+=1,e.next=17;break;case 23:for(f=new i.a.Inflate,d=0;d<u;d+=1)f.push(new Uint8Array(A.chunks[d],8),d===u-1);return l=new TextDecoder("utf-8"),p=l.decode(f.result),e.abrupt("return",p);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e,t){var n=2*(e.length+1)+e.reduce((function(e,t){return e+t.byteLength}),0),r=new Uint8Array(n),a=0;return e.forEach((function(e){if(0===e.byteLength)throw new Error("buffer is empty");r.set(new Uint8Array(Uint16Array.of(e.byteLength).buffer),a),a+=2})),r.set(new Uint8Array(Uint16Array.of(0).buffer),a),a+=2,e.forEach((function(e){r.set(new Uint8Array(e),a),a+=e.byteLength})),l(r,t)},g=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o,i,u,A,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n,r,c);case 2:o=e.sent,i=[],u=0;case 5:if(!(u<o.byteLength)){e.next=13;break}if(A=new Uint16Array(o,u,2)[0],u+=2,0!==A){e.next=10;break}return e.abrupt("break",13);case 10:i.push(A),e.next=5;break;case 13:return s=[],i.forEach((function(e){s.push(o.slice(u,u+e)),u+=e})),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(2),a=n.n(r),c=n(3),o=n(4),i=n(1),u=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={video:{width:1280,height:720}},e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:return e.next=6,navigator.mediaDevices.enumerateDevices();case 6:return n=e.sent,r=n.filter((function(e){return"videoinput"===e.kind})).map((function(e){return{label:e.label,deviceId:e.deviceId}})),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:return t=e.sent,n=t.filter((function(e){return"audioinput"===e.kind})).map((function(e){return{label:e.label,deviceId:e.deviceId}})),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),n},f=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),n}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=32},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQI12NgYAAAAAMAASDVlMcAAAAASUVORK5CYII=",a="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBYRXhpZgAATU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgASABIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAwICAgICAwICAgMDAwMEBgQEBAQECAYGBQYJCAoKCQgJCQoMDwwKCw4LCQkNEQ0ODxAQERAKDBITEhATDxAQEP/bAEMBAwMDBAMECAQECBALCQsQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEP/dAAQABf/aAAwDAQACEQMRAD8A+q6KKKACiiigAooooAKKKKACiiigD//Q+q6KKKACms6oMs2M8fWkmlSCJ5pOFQEmuv8AANloen2L+K/EskIKoZlM5Ajt4hzk574718zxJxNQ4ehCMrOpP4U9Fpu35K621b+9ehgsBLFRlVfwx373eyX9aHNpperSxefFpN48fXcIjjFVd43tGcq69VYYI/Cve9P8UaZqOnQ6lpt3b3FlPH5kU8TAxunqD6Vw3ihvCXjrSZNW8P39nNcQu6R3dqwYeYvVGx1r5VeIMcO1OrKM49Uk4tel5ST9Ha/c6oZdGvLkinF9G3dfPRf10PP6KgtLj7RFuZdroxRx6MOtT1+l0K9PFUo16TvGSTT7p6o8mrSnRm6dRWadmFFFFamZ/9H6rooooAyPFUzQaHcSL2xu+mea0dTtLbxd4IvvDN7qH2W31K1MBlDAbcj36/Sm39nFf2U1lKPkmQofxrgpYNPurc+DvGlsZYoZA0RLlBKB91gR/Kvw7xay3EPEYfMo39mlytpX5Xe6fz/Q+/4RnTxGGqYP7d+Zeatb8LfiereC9P0vwh4Cs/A0GtRTQWtq9uZTMoJ3ZyRzx14rm/h14Q0/4Y+GLrQNL1n7cs10908hYfLu6DA6cd+9covw0+Fhjz/Y75x/z9P/AI1FFa+G/CAuLHwfp7LdahhTGJGctjoeTwBmvx/kVXmp0Kkpym07cu7+923PpqOWypzcqist2dT4eujdXWqODlBc8fXHP9K2qy/DmlNpGmJbyvvnkYyzN6uev+H4VqV/WvDWBq5blGHwlf44wSfr2+Wx+W5ziKeLx9WtS+Ft2/z+YUUUV7h5h//S+q6KKKACqWp6Rp+rw+Tf2yyDsT1H0NXaKzrUaeIg6dWKlF7p6ounUnRkp02011Ryx8A2GcJqN8sf9wSmtbSfDmlaNlrO3/eMPmkc7mP4mtOivKwfDuVZfV9vhsPGMu6Wv/AO/EZxj8XT9lWqyce1wooor2TzQooooA//0/quiiigAooooAKKKKACiiigAooooA//2Q==",c="data:image/jpeg;base64,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"},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(2),a=n.n(r),c=n(3),o=n(6),i=n(23);n.d(t,"a",(function(){return i.a}));var u=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.e)()){e.next=6;break}return e.next=3,Promise.all([n.e(16),n.e(12)]).then(n.bind(null,48));case 3:t=e.sent.createRoom,e.next=15;break;case 6:if(!Object(o.f)()){e.next=12;break}return e.next=9,Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,47));case 9:t=e.sent.createRoom,e.next=15;break;case 12:return e.next=14,Promise.all([n.e(0),n.e(1),n.e(10),n.e(8)]).then(n.bind(null,49));case 14:t=e.sent.createRoom;case 15:return e.abrupt("return",t.apply(void 0,r));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n(1),c=n.n(a),o=(n(42),c.a.memo((function(){return Object(r.jsx)("div",{className:"SuspenseFallback-container",children:Object(r.jsx)("div",{children:"Loading..."})})})))},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),o=n(33),i=n.n(o),u=(n(40),n(21)),A=n(22),s=n(26),f=n(25),d=(n(41),n(4)),l=c.a.memo((function(e){var t=e.err,n=Object(a.useState)(30),c=Object(d.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){o>0?setTimeout((function(){i(o-1)}),1e3):window.location.reload()})),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Unrecoverable error occurred."}),t&&Object(r.jsxs)("h6",{children:[t.name,": ",t.message]}),Object(r.jsxs)("p",{children:["Will auto reload in ",o," sec."]})]})})),h=n(31),p=n(2),v=n.n(p),b=n(3),w=n(16),j=(n(44),n(8)),m=n(10),x=n(29),g=n(19),E=n(6),y=c.a.lazy((function(){return n.e(14).then(n.bind(null,1543))})),B=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5),n.e(9)]).then(n.bind(null,1544))})),O=c.a.memo((function(){var e=Object(w.useSnapshot)(j.c),t=e.roomId,n=e.roomEntered,c=e.config,o=Object(a.useState)(c.nickname),i=Object(d.a)(o,2),u=i[0],A=i[1],s=Object(a.useState)(c.takePhoto),f=Object(d.a)(s,2),l=f[0],h=f[1],p=Object(a.useState)(c.avatar),O=Object(d.a)(p,2),Q=O[0],k=O[1],C=Object(g.b)(),S=Object(g.a)(),R=Object(a.useState)(c.videoDeviceId),K=Object(d.a)(R,2),U=K[0],D=K[1],P=Object(a.useState)(c.audioDeviceId),I=Object(d.a)(P,2),L=I[0],M=I[1],V=Object(a.useState)("intro"),G=Object(d.a)(V,2),q=G[0],F=G[1],Y=Object(a.useState)(!1),T=Object(d.a)(Y,2),Z=T[0],N=T[1],J=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(!0),j.c.roomId){e.next=8;break}return q&&Object(E.h)(q),e.t0=Object(m.j)(x.a/2),e.next=6,Object(m.g)();case 6:e.t1=e.sent,j.c.roomId=e.t0+e.t1;case 8:Object(j.a)(Q,u,l,U,L),j.c.roomEntered=!0;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&n?Object(r.jsx)(B,{}):Object(r.jsx)("div",{className:"SingleRoomEntrance-container",children:Object(r.jsx)(y,{children:Object(r.jsxs)("div",{className:"SingleRoomEntrance-input",children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:Q,alt:"avatar"})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e&&e[0];if(t)if(t.size>16384)window.alert("Too large: ".concat(t.size));else{var n=new FileReader;n.onload=function(){"string"===typeof n.result&&k(n.result)},n.readAsDataURL(t)}}(e.target.files)}})}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:l,onChange:function(e){return h(e.target.checked)}}),"Take photo every 2 min"]})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{value:u,onChange:function(e){return A(e.target.value)},placeholder:"Enter nickname"})}),Object(r.jsxs)("div",{children:["Video:"," ",Object(r.jsx)("select",{value:U,onChange:function(e){D(e.target.value)},children:C.map((function(e){return Object(r.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]}),Object(r.jsxs)("div",{children:["Audio:"," ",Object(r.jsx)("select",{value:L,onChange:function(e){M(e.target.value)},children:S.map((function(e){return Object(r.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]}),!t&&Object(r.jsxs)("div",{children:["Room Preset:"," ",Object(r.jsxs)("select",{value:q,onChange:function(e){F(e.target.value)},children:[Object(r.jsx)("option",{value:"",children:"Empty"}),Object(r.jsx)("option",{value:"intro",children:"Intro"}),Object(r.jsx)("option",{value:"phone",children:"Phone"}),Object(r.jsx)("option",{value:"igo",children:"Igo"})]}),"(It takes about 10 seconds to apply the preset.)"]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"button",onClick:J,disabled:Z||!u,children:t?"Enter the room":"Create a new room"})})]})})})})),Q=(n(45),c.a.memo((function(e){var t=e.size,n=e.fill,a=e.color;return Object(r.jsx)("a",{href:"https://github.com/dai-shi/remote-faces",className:"GitHubCorner-container","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer",children:Object(r.jsxs)("svg",{width:t||80,height:t||80,viewBox:"0 0 250 250",style:{fill:n||"#151513",color:a||"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true",children:[Object(r.jsx)("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),Object(r.jsx)("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"GitHubCorner-octo-arm"}),Object(r.jsx)("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"GitHubCorner-octo-body"})]})})}))),k=function(e){Object(s.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(A.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state.err;return t?Object(r.jsx)(l,{err:t}):e}}],[{key:"getDerivedStateFromError",value:function(e){return{err:e}}}]),n}(c.a.PureComponent),C=c.a.memo((function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(k,{children:Object(r.jsxs)(a.Suspense,{fallback:Object(r.jsx)(h.a,{}),children:[Object(r.jsx)(O,{}),Object(r.jsx)(Q,{size:40,fill:"gray"})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[46,3,4]]]);
//# sourceMappingURL=main.09145de4.chunk.js.map