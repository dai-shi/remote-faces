"use strict";(self.webpackChunkremote_faces_web=self.webpackChunkremote_faces_web||[]).push([[228],{43170:(e,M,t)=>{t.r(M),t.d(M,{SingleRoom:()=>X,default:()=>V});var a=t(56167),i=t(6925),n=t(35338),s=t(1239),c=t(15849),N=t(36620);const r=(e,M,t,a,i)=>({[`meeting${e}`]:{type:"meeting",position:[M,t],size:[a,i],zIndex:0,background:"",border:"",iframe:""}}),o=(e,M,t)=>({[`gomeeting${e}`]:{type:"meeting",position:[M,t],size:[250,150],zIndex:0,background:"",border:"",iframe:""},[`gobard${e}`]:{type:"goboard",position:[M,t],size:[250,150],zIndex:0,background:"rgba(140, 140, 140, 0.2)",border:"",iframe:""}}),d={background:{type:"background",position:[36,36],size:[800,500],zIndex:-100,background:"url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDY2Ny4yOTIyOTgzMDU3OTI3IDQxOC4xNDczNjEzODYyNzcyIiB3aWR0aD0iMTMzNC41ODQ1OTY2MTE1ODUzIiBoZWlnaHQ9IjgzNi4yOTQ3MjI3NzI1NTQ1Ij4KICA8IS0tIHN2Zy1zb3VyY2U6ZXhjYWxpZHJhdyAtLT4KICAKICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgQGZvbnQtZmFjZSB7CiAgICAgICAgZm9udC1mYW1pbHk6ICJWaXJnaWwiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL1ZpcmdpbC53b2ZmMiIpOwogICAgICB9CiAgICAgIEBmb250LWZhY2UgewogICAgICAgIGZvbnQtZmFtaWx5OiAiQ2FzY2FkaWEiOwogICAgICAgIHNyYzogdXJsKCJodHRwczovL2V4Y2FsaWRyYXcuY29tL0Nhc2NhZGlhLndvZmYyIik7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSI2NjcuMjkyMjk4MzA1NzkyNyIgaGVpZ2h0PSI0MTguMTQ3MzYxMzg2Mjc3MiIgZmlsbD0iI2ZmZmZmZiI+PC9yZWN0PjxnPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0wLjA0MDc4OTI4NTY3NDY5MTIgMC45Mzk2MDg4MDMwMTg5Mjc0IEMtNi4zODU5NzU3NzkzNTIyODkgLTcuODM1OTk0ODM4NjU1MDIwNCwgLTMxLjkzNzUxNjQ0NjY5ODIxIC00My40NTIxNDcxOTExNjcsIC0zOC42NTQ4NTA0MzU2NzUzODUgLTUyLjI4MDI3ODgzMjcxODg4IE0tMS4zOTY5MzUwNjg2ODU1NjE1IDAuMzg3Mjk5NDc5MjY0NzY2MTYgQy03LjkxNjAyNzI0NzQ2MDEzNjUgLTguMjcwNDExODcyNjUxNDUsIC0zMy4xNzk2MDIyNzkxNDg3NDYgLTQyLjUxNzM2NTQxMTEyODk3LCAtMzkuMjU4MjE3MzcyODA5Nzk2IC01MS4wNjU3MDEyNDgwNjEwNiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIj48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUzLjQ5Nzc3MzUzMDI3OTc0NCAyMDMuNDAxNzY0NDE1NzM2MjQpIHJvdGF0ZSgwIC0xOS42MDg3MTQwNDM1Njc1NDUgLTI1LjY3MDMzNTAxNDg0OTk2OCkiPjxwYXRoIGQ9Ik0tMTIuODE5NTU5MjAxNTg1NTczIC0zMy4xOTc5NDQ4NTk4MDkxMyBDLTIyLjcyOTA5MTEzNzk5NDczIC00MC43NzA0MDI4NDQ1NjY0NiwgLTI5LjU3NzAxMzE2ODExNjA3IC00NC40MzUyOTM5NjAyODc3OSwgLTQxLjE3OTY5NDcyNjAxMDExIC01MC42OTkwMTc1ODA1MzU0MSBNLTE0LjgzMjg2MTc1NzgyNDY0MiAtMzMuMzI1NjM3MDc1ODg1MDggQy0yMy4wOTQ1OTE4MzE5MjYwOTUgLTM5LjQ0ODUwODEzMzYwMzIzLCAtMjkuNDgyNTU4MTQwMzcxMTc1IC00NS4xNjMzNTk5OTQ5MDM5MywgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My40OTc3NzM1MzAyNzk3NDQgMjAzLjQwMTc2NDQxNTczNjI0KSByb3RhdGUoMCAtMTkuNjA4NzE0MDQzNTY3NTQ1IC0yNS42NzAzMzUwMTQ4NDk5NjgpIj48cGF0aCBkPSJNLTI5LjQyMDQ3NTMwMjAzMDM1OCAtMjEuMTM0MzgwNDE5MjM3MTU0IEMtMzQuNTE3NjY0NzMwMTM4MzY0IC0zMi4yMzY3OTEyMjA5NzQ4MSwgLTM2LjUxNTcxMjE4OTA1OTA5NCAtMzkuNDI1OTkyMzI0NDMyNDM2LCAtNDEuMTc5Njk0NzI2MDEwMTEgLTUwLjY5OTAxNzU4MDUzNTQxIE0tMzEuNDMzNzc3ODU4MjY5NDI2IC0yMS4yNjIwNzI2MzUzMTMxMSBDLTM0LjY3MzY3MzM5NDc0NDQ1IC0zMS4xMTQxMTM5MjIyMzUwMDYsIC0zNS45MjU4ODQ3MzQ2NzkxNDQgLTQwLjU2MTAxOTUyMzE0NTQ1NCwgLTM4LjU0OTkxMTY1MzUwMTI0IC01MC40NDAzMjQ1MDQ3OTY1NjQiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDguNTA3MTUxMDU3MjU0MzA1IDIwNy4wODIxNjEzODY5ODAyNikgcm90YXRlKDAgMjYuODczNjY2OTA1NTM0NjM0IDcuNjMwNzk0MzA2NTA5ODQxKSI+PHRleHQgeD0iMCIgeT0iMTIuMjYxNTg4NjEzMDE5NjgiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzA5MnB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5GYWNlIExpc3Q8L3RleHQ+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwIDEwKSByb3RhdGUoMCA5MS45NTMyMDg4MTIzODY0OSA2Mi4xODA5MDgwMjEzMTE4MzYpIj48cGF0aCBkPSJNMzEuMDkwNDU0MDEwNjU1OTE1IDAgTTMxLjA5MDQ1NDAxMDY1NTkxNSAwIEM2MS4wMjY0NzI3NDM3Nzc3NDUgMCwgOTAuOTYyNDkxNDc2ODk5NTcgMCwgMTUyLjgxNTk2MzYxNDExNzEgMCBNMTUyLjgxNTk2MzYxNDExNzEgMCBDMTczLjU0MjkzMjk1NDU1NDM3IDAsIDE4My45MDY0MTc2MjQ3NzMgMTAuMzYzNDg0NjcwMjE4NjQsIDE4My45MDY0MTc2MjQ3NzMgMzEuMDkwNDU0MDEwNjU1OTE1IE0xODMuOTA2NDE3NjI0NzczIDMxLjA5MDQ1NDAxMDY1NTkxNSBDMTgzLjkwNjQxNzYyNDc3MyA1Mi42MjY4Mjg3MDA3OTU0MTQsIDE4My45MDY0MTc2MjQ3NzMgNzQuMTYzMjAzMzkwOTM0OTIsIDE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgTTE4My45MDY0MTc2MjQ3NzMgOTMuMjcxMzYyMDMxOTY3NzQgQzE4My45MDY0MTc2MjQ3NzMgMTEzLjk5ODMzMTM3MjQwNTAyLCAxNzMuNTQyOTMyOTU0NTU0MzcgMTI0LjM2MTgxNjA0MjYyMzY2LCAxNTIuODE1OTYzNjE0MTE3MSAxMjQuMzYxODE2MDQyNjIzNjYgTTE1Mi44MTU5NjM2MTQxMTcxIDEyNC4zNjE4MTYwNDI2MjM2NiBDMTIyLjM4MTg1MjIwNjMxMjg2IDEyNC4zNjE4MTYwNDI2MjM2NiwgOTEuOTQ3NzQwNzk4NTA4NiAxMjQuMzYxODE2MDQyNjIzNjYsIDMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgTTMxLjA5MDQ1NDAxMDY1NTkxNSAxMjQuMzYxODE2MDQyNjIzNjYgQzEwLjM2MzQ4NDY3MDIxODY0IDEyNC4zNjE4MTYwNDI2MjM2NiwgMCAxMTMuOTk4MzMxMzcyNDA1MDIsIDAgOTMuMjcxMzYyMDMxOTY3NzQgTTAgOTMuMjcxMzYyMDMxOTY3NzQgQzAgNjguNzAxMDc4NjE1NDc1NTQsIDAgNDQuMTMwNzk1MTk4OTgzMzM2LCAwIDMxLjA5MDQ1NDAxMDY1NTkxNSBNMCAzMS4wOTA0NTQwMTA2NTU5MTUgQzAgMTAuMzYzNDg0NjcwMjE4NjQsIDEwLjM2MzQ4NDY3MDIxODY0IDAsIDMxLjA5MDQ1NDAxMDY1NTkxNSAwIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWRhc2hhcnJheT0iMyA2Ij48L3BhdGg+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMS44NDU1MTM2Mjc3NzM1OCAyMS40NjQ0OTk0NDQxMDQ5NDUpIHJvdGF0ZSgwIDMwLjg1NDk1MDg5MTUzOTc3MiA3LjYzMDc5NDMwNjUwOTg0MSkiPjx0ZXh0IHg9IjAiIHk9IjEyLjI2MTU4ODYxMzAxOTY4IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcwOThweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RW50cnkgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjUuOTEzMzg0ODEwNzE0ODkgMTM5LjEwNzQyODcwODQyNTgpIHJvdGF0ZSgwIDU5IDYpIj48dGV4dCB4PSIwIiB5PSIxMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSwgU2Vnb2UgVUkgRW1vamkiIGZvbnQtc2l6ZT0iMTAuNjE2NzU3Mjk2MDEzNjgxcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPllvdSBjYW4gZHJhZyB5b3VyIGF2YXRhcjwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgwLjMxMjEzNTA1NjYwNzMgMzEuMjA4NDk0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC45NjU4MTM2NDIzNjc3MjA2IDAuNzkwMzMwNzMyMjQxMjcyOSBDNTkuOTI2MDgxODMzNzkyOTcgLTIuNTQwMDEwMzg1OTkwNzcwNiwgMTI0LjAzNTUyNTY2OTEzOTEyIC0xLjM3OTY0NTEwMjUwMTU0MzMsIDE2OC42ODM5NzY0MjQzMzczMiAtMS45ODUyMjYyNDkzMjIyOTUyIE0wLjA5NTA2MDI0MTQwODY0NjEgMC42NTI5MTMwMzY3NTYyMTc1IEM0NC4wNzQ5MTU2NTcwMzQ3NCAyLjI3MDc5MDQ0NjA5MDQyMDUsIDg2Ljk2ODg0NTk3MDQyNjk0IDEuNzY0MTc0NzE3OTUwNTQzMSwgMTY3LjkwMDA1OTIxMjQwOTg0IC0wLjQ1Mjk2MzIwMDM5Nzc4OTUgTTE2OC43MjgyNDgzNzAyOTA3IC0wLjkzNDEyMzEzNDI0MDUwODEgQzE2OC44ODkzMDA0MDE1ODA4NCAyMi41NjAxOTg5NDg1NDU2NDcsIDE2Ni4xOTM3ODU1NDM4MTE4MyA0NS42MTAzMzE5NTk2NzY1MywgMTY2LjQ5ODk0MjU2NjUxNDkgMTEwLjc0Njc4OTI3MDQ2NDMyIE0xNjcuNzg0NjI3MTg4NDA3NzcgLTAuNDcyMTkzODA0NTY5NTQyNCBDMTcwLjE2ODc0NzEyNTkzMjYgMjYuNDEwNDYzNzc4OTc1NzksIDE3MC4xNjQ0MTEzMzUwNjAwNCA1My42NjEwNzQ2NjI5OTcxOTQsIDE2OC41OTY0MTgzOTk3NzQ0MiAxMTAuMDAyNzM2NTQwODk0OTQgTTE2Ny42NTcyNDM0NDMxMzIzMyAxMTEuMDg4NDA0NDcwNTA3MDQgQzEwOC4wOTg4Njc4ODk0NjMyOSAxMTIuMjIzNzg5NzU4MzMzMzcsIDQ1LjEwOTQ2Nzc4NDQwMjY1IDExMy4wMzI5NTQ5MzgwNjI4MywgLTEuNjU0MzU3NjA2NTQ1MDkwNyAxMDkuMDA1MzQwOTI3NjY0MTggTTE2Ny40NDc3NzU2MjEzNzc4MiAxMDkuODY3MTgwNTU4MzA1MjIgQzEwNS43MTM1NTA4NTIyNzQ1NSAxMTAuOTMwNDI4ODY4NjYzMTYsIDQ0LjQ2MTgyMTM5MTA5MzYzNiAxMTEuNTU5NzcwODU4NDE4NzksIDAuODI0NDk1MDU5NDM4MDQ5OCAxMDkuNzAyMzgwNTk5ODM3NzQgTTEuMzcwNDEzNjA2OTg2NDAzNSAxMDkuNzM2NTg5MzA2NDE3ODQgQy0wLjk1ODA3OTU0MjQxNzAyMDUgNzYuMDExNzIyMjI5ODc4MzIsIC0xLjY2OTM5ODY5MDk1NzUxNzQgNDEuMDgxMDY5NDAxOTk2MDIsIDEuNTM1MTAxMTgwODk2MTYzIDAuODY5MTAzMDM4NjgzNTMzNyBNLTAuNzM3NDg1NDI2NDc4MDg3OSAxMTEuMzQyMzQ0OTQxOTU1MDUgQzAuMDAwNDM3MDA0Njg0Nzk5OTAyMDcgNzQuMjg0NjkzMTg4MTU4MzcsIC0xLjY5NDE0NzI3NTU2NzY1NjggMzkuMjQ0MzQ3NzYyMTgxNTMsIDAuODc2NjA3MTkxNzQ4OTE3MSAwLjcwNTc1MjkxMTk3NzQ2OTkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTQuNjU5NDg1ODA1NzkyNjYgMTIuMDQ4MzI5Mjg0ODcxMDQ1KSByb3RhdGUoMCA0NC41IDcuNSkiPjx0ZXh0IHg9IjAiIHk9IjEyIiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMy4yNzA5NDY2MjAwMTcxMXB4IiBmaWxsPSJibGFjayIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0id2hpdGUtc3BhY2U6IHByZTsiIGRpcmVjdGlvbj0ibHRyIj5NZWV0aW5nIEFyZWEgMTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc1LjAzODY5NzU1NjYwNzMgMzEuOTg5NzQ0OTIwNTQxMTE0KSByb3RhdGUoMCA4NC4xOTkyMzE1Mzg2NjEyNSA1NS4yNTA2ODMyMzI4NjgwODQpIj48cGF0aCBkPSJNMC4zOTU5MTA2NDQ5MDM3NzkwMyAtMC45OTcyNTk4NDk2ODI0NTAzIEM0OS41NDc4MTEzMzM3Nzk3OSAtMi42NDQ4MTQ3MzMxMjI5NTA2LCA5OC4xNDc2MTI3OTQ3NTA1MyAtMS43MDc3MDk3MzMxMDM4NzcsIDE2OC45ODU1MDEwODIwOTM0IDAuOTExNTI4Mjk0OTA2MDIwMiBNLTAuODI3MTc4ODAzMjcyNTQ1MyAtMC43NDgwMTI3NjkwMzU5OTUgQzU0LjQxNDI5ODUwNjE3MDU4IC0xLjg2NzE2Nzk0ODg3NjY3NDQsIDEwOC4wNTAzNDA0NDQyMTQ3OCAtMS45NTM5MTE2OTExMDQyMjg3LCAxNjcuNzY0Mjc3MTY5ODkxNTkgLTAuNzg3OTM3NTk5MjM0MjgzIE0xNzAuMDQ3NDUzMTk2MTk4NjMgLTEuNTk3OTcxNzMxNzk2ODYwNyBDMTY4LjU0NzMyMDQyMDk4MjA2IDI3Ljk1MjgxNjAwNDQ4NDI2LCAxNjcuNTk1MjA5MzU1NTk0MzMgNTUuODI4NzQzNzQwMTU1MDI2LCAxNjcuNjMzNjg1OTE4MDA0MiAxMDkuOTQzMTA5MDEwNzI5OTMgTTE2OS4xNjYwMTM2Njc3NzA2IDAuNDM0NTUxNTE5MzQxNzY2ODMgQzE2Ny45MzM0MDM0NzYxMjUxNiAzNS44OTcxOTM3MjM3NjQzOSwgMTY3Ljg0MjY3NTU4MDYyNjkgNjkuNDc5Mzg1Njc5NDY4NzUsIDE2OS4yMzk0NDE1NTM1NDE0IDExMS4zNzMzOTIwMjcyNTUxNCBNMTcwLjE1MTY3NzQ2MDgyMDM3IDExMS45MTI4NzIyODk2OTExMSBDMTI0LjMyMzg2MTkwNjM1OTYxIDExMS4yNjAyMzI3NTAwNzI3MywgODEuNjUxMTAwNDQ0MzA2MDggMTExLjc3MjIzMTcwMTUwNzgyLCAxLjY5ODQ4MDY4OTg5ODEzMzMgMTA5Ljg2Mjc0ODUzODUyNzYzIE0xNjguOTc3MjQ1MjUxMTI3NDcgMTEwLjg5NTY3ODIwMzkzNjY1IEMxMDYuOTczNTU2MDAyMTU1MzYgMTA4LjcyMDc4NTYzMTcwNDk0LCA0Ni4wMjk0MDk0MDkxMjgwOSAxMDkuMTUzMzI3MDkxNTAzNzUsIC0wLjY2NjYwNDIxODA3MzE4OTMgMTEwLjg0OTE1NTg1NDgxNzQ3IE0tMS45OTM5OTIyNDQ4MjQ3NjcxIDExMC41MDE3MTY1Mjk0MDI4NyBDMS43OTI3ODk2MTkxNDA0NzU3IDc1LjQzOTcxMTg2MzkxMTkxLCAwLjk4OTIzNDMwOTM2Nzk4NDQgNDAuMzA2MjQwNzUyNDk4MSwgMS41MzQwMDE0OTM4MjY1MDg1IC0wLjIxMzg5MTUwMDYwNzEzMjkgTS0wLjY5MzA3NTExNzY1NTA5ODQgMTExLjA3MjM2MjEzNjQ3OTQ2IEMwLjAyNjEwNjAyNDQ1MjQ0MzU4OCA4MC43ODcwMTA1NTUxNTE4LCAtMS4yNzgxNTE0NTc4Mzc4MjQ0IDUyLjAwNDA4MjI2MDI2MjEyLCAtMC42MDIwMzI4NjcyNjAyNzczIC0wLjcyODUzNTUyMDg0NDE2MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NDkuODA3OTIzMzA1NzkyNyAxMS42NjE2MTA1MzQ4NzEwNDUpIHJvdGF0ZSgwIDQ0LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPk1lZXRpbmcgQXJlYSAyPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTMuMjM3OTE2MzA2NjA3MyAyMjkuMTEwODM4NjcwNTQxMSkgcm90YXRlKDAgMTc3LjY4OTQ2NTkxMzY2MTI1IDg5LjUxODI2MTM1Nzg2ODA2KSI+PHBhdGggZD0iTS0wLjU5MzUyMzcxOTEwNjI2NiAtMC4zNjYwNzgxMzM1MDc5MTI3NCBDODkuNzQ2Nzg5MTQ4NjQ0NzUgMC45MDk2ODU1MTA4ODEwNTA0LCAxNzguNzIxNTM1NjM2MDMzMiAwLjQzMDgxOTU0OTQ1NjcxMjg2LCAzNTUuNDk0NjU0NTY2OTA0IC0wLjgwMjUwMDk0NzMwMTI3ODIgTS0wLjUyNDE2Nzc4NjI0ODIyMjQgMC4yNzI3NTA2OTg1MTYyNzM4IEMxNDEuMzU0MDExMzUyNDM0NzggMC41NzQ1MjE2NDkwODMxNTQ3LCAyODIuNzQxMjAwODQ3MDIxODQgLTAuMDc1OTYwMzk0MTU3Njg4NDYsIDM1NS41NDU1OTkwMjYxNDY3NiAtMC40OTM5OTc1NDc1MDg2NDQxNiBNMzU3LjE4NzE0MTUwOTIwNTk2IDAuMDg5NTU0MTk2MjIzNjE2NiBDMzUzLjU4ODY4NTY2NjY4MDMgNjAuOTYwNDM3Mjg5MjU3ODEsIDM1NS4zNDAwNzE1MzQyNzYgMTI0LjA1MDE5ODE3NDY1MDQsIDM1Ny4yMDIyMjQ0MDQ5NjE3IDE3OS4xOTI1Mzc5Mzg2MjgzIE0zNTQuNTcxNDIzMDkzMjY3NjQgMC43NDU4OTg0Mzc2ODYyNjQ1IEMzNTQuMTkxNTA5OTM5MDY4NyA0NC41NjcxODg3MDAzNjQwMSwgMzU0LjQwMDc4MjIzNDMwNTI3IDg5LjIwNjE3OTM0OTA4OTExLCAzNTYuMjc2Mjk2ODYzNzQzIDE3OS43NDQxOTU3NzA4NTU5NSBNMzU2LjMwNTUzMDUxNTM2ODEgMTc4LjcxMTQ5MDQ2NDIwODMgQzI0NC45MDc2MTgzOTU3MzgyNCAxNzguNzQwMzE2Mzg5MTY1NDMsIDEzNS4yMDM5MzYxODk5ODQ1MiAxNzguNTkyNDcxMTExNTc3MiwgMC41NzUzNzQ0NjQ0MjM2ODA4IDE4MC4xOTIwNTQzODI3MTUyNyBNMzU1LjE0NDkwODA1Njc5NzkzIDE3OS4yNTQ1OTQ0MTE0Njk0NyBDMjUyLjkwNTc2NzY2NjE2Mzc0IDE4MC42MDg1ODg1OTkxNzcsIDE0OS42NzkyMDgwODA1MTE4IDE4MS4zNjMyMDE2NjI1NTg3NCwgLTAuNDYwMDQ4MTI4MjE4MDk2NSAxNzguNDU1MzMxNDI4NTAwMjQgTTAuNzY5OTA2NDI1ODQ4NjAzMiAxNzkuMTg5NjA0ODUzNjYzNTUgQzAuNTQzOTkwMDA5OTg2MDk0NiAxMjMuODQ4MjQ5Nzk4MTM0MTMsIC0wLjUwMzQ1NjA2MjExNTQ5ODQgNjYuMjAwMjU5ODM5NjUwNiwgLTAuMjQwNDEyNzQ3NDg3NDI1OCAtMC45NjM3MzM5NjU1MzA5OTE2IE0wLjg4ODYwMTkzMTc0MzMyMzggMTc4Ljc0MDM2OTg5NzcxOTQzIEMxLjMxNzU2MjMzNDk0NzU1MDcgMTI4Ljc0MzMxMzY0MjcwMzE2LCAxLjI1MjgxOTIwMzU0ODM5NiA3OS40MTc1MzQ0MzM4OTA1MSwgLTAuNTA3ODY3NDUyNjg4NTE1MiAwLjczMDE5MTI3MjY4MzQ0MTYiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjEuNTQ2MjA0NTU1NzkyNjYgMTUxLjM3MjU0ODAzNDg3MTA0KSByb3RhdGUoMCAxOTcuODczMDQ2ODc1IDYuNTAyODcwMDg1MDkzODg5KSI+PHRleHQgeD0iMCIgeT0iMTAuMDA1NzQwMTcwMTg3Nzk0IiBmb250LWZhbWlseT0iSGVsdmV0aWNhLCBTZWdvZSBVSSBFbW9qaSIgZm9udC1zaXplPSIxMC44ODA1MTA4MDI4MDg3MjRweCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmU7IiBkaXJlY3Rpb249Imx0ciI+RHJhZyB5b3UgYXZhdGFyIGludG8gYSBtZWV0aW5nIGFyZWEgYW5kIHlvdSBjYW4gdGFsayB3aXRoIG90aGVycyBpbiB0aGUgc2FtZSBhcmVhPC90ZXh0PjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODEuMDMwNTc5NTU1NzkyNyAyMDYuMjQzNjQxNzg0ODcxMDQpIHJvdGF0ZSgwIDI5LjUgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPkNoYXQgQXJlYTwvdGV4dD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuNjMyNDQ3NTU2NjA3MzAzIDI1My41NjM5NjM2NzA1NDExKSByb3RhdGUoMCAxMTYuMjU1ODcyMTYzNjYxMjUgNzYuOTU3NzE0NDgyODY4MDYpIj48cGF0aCBkPSJNMS4xMzg4NTQxNzQyNTE2MjE2IDEuMDkwMzgyOTA5MDMzODU4NCBDNTcuODAwMDQ1MDg4OTY3MzggLTIuOTg2OTUwOTgwMDcxMjU5LCAxMTguNTY3NzA5MzQwMzk2NjggLTIuNzQ1NTE2MzE5NTY3MzYyNiwgMjMzLjAzNDkyMDQwODQ3NTIgLTAuODYwNDQzODk4MjY1MjQyMyBNLTAuMzg4NjE3MjcwMzg0NTM3NzUgMC41MzIwOTc5MDI3Mjg5MDc2IEM3My4yNjc5NTc3ODIxNTg1NSAwLjU2NTUyMzg3OTk0NzI3NTYsIDE0Ni4xODk4NTE1NjY0ODE5IDEuMzg0NDA0NjM0NzM3NjA3MywgMjMyLjExODExNjI2OTMwOTM1IDAuNTUwNDI3NzA0NzE0MTAzOCBNMjM0LjMyMjI5MTE0ODMwNTggMC45MDU1OTU2ODQ0MjQwNDI3IEMyMzEuOTQxNzIwMDI1MDM1NCA0OC45MTEwMjMxMjI1NDg2MiwgMjM1LjAwNzM0NDA4MzI4MjAyIDEwMC40NjkzMzE4MDE1MTc5MiwgMjMzLjc4MjY1MjA5MjU3Njg4IDE1My45MDQxNjU1NTk4MzE5NCBNMjMxLjYyMDczMTEwNDU3NTk1IC0wLjA5OTI3NTE5ODc2NTA5OTA1IEMyMzMuMDM5NjcyODQyMTU3NTYgNDguMTE5NDM3ODI5Njc2NCwgMjMyLjY5OTQ0NTMyNzY1MjE3IDk3LjUxMjI1NjUwMjM0Mzk3LCAyMzIuOTcxNzIyMTQ1MDQ0MTcgMTUzLjUwNDY2ODIwODIyMjc3IE0yMzMuMjE3NzQxOTI4MjM3NDQgMTU0LjgxOTg4MDU1MTY4MjEzIEMxNTguMzA2MzgxNzk2ODY0IDE1NC42NDYzMzQ0MDcxMzQ2NywgODMuNTc0Nzc2MTMxODI5NSAxNTMuNzE2ODYzNzYzODUyODQsIC0xLjAwMDI5OTg2NjM0MDg3NjYgMTUyLjUyNDcyMTgzMzYwNTcyIE0yMzIuMTM5Mzg2NTg5MDQwMiAxNTQuNDI0MzgyOTg4ODk2NyBDMTUyLjU2NjcyMTMwNjMzNzY4IDE1NC45MDI5MTczMjUwNTY1NiwgNzQuMDM1MjQxMTg1MzU0NjggMTU0LjExOTYxNzI0MzMzMTAyLCAtMC41NTcwMTk3NDcyMDI5MDczIDE1My40NzAyNzgzNDQ2MDEyIE0tMS4yNDQ1ODkwMjUxNTQ3MDk4IDE1Mi4zNTg1OTU3MjI3Mzg1OCBDLTMuMDgxNzg3MDM3Nzk3NTExIDEwNC44NjgxNTc5NTc3ODc4NiwgLTIuNDA1MDE0MTQ1MzIyMzgzIDU3LjIzMTUwNDc1Mzk5NDM2LCAxLjQ5MDYyNDY3MTgwMTkyNDcgMS45NDM1MzI1NTA3MDc0NTk0IE0tMC4wMzg1NTgwMjM5ODE3NTAwMSAxNTQuNjgxMDUzMzQyNjgxMyBDMC40OTg0MjQ1ODc0MjE1MDMyIDEwNi4yMzM5OTIzNDgwODk1NCwgMC40NTEzNDcwMjEwMzYyMzQwMyA1Ny41NzkxNDAwMjUwNjc1OSwgLTAuOTM1MDcwMjY0MTUzMTgyNSAtMC43NzY3MjA5MzgyNzI3NzQyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPjwvcGF0aD48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEyLjk4MzcwNDU1NTc5MjY2IDIzMC4wODM0ODU1MzQ4NzEwNCkgcm90YXRlKDAgNzEgNy41KSI+PHRleHQgeD0iMCIgeT0iMTIiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EsIFNlZ29lIFVJIEVtb2ppIiBmb250LXNpemU9IjEzLjI3MDk0NjYyMDAxNzExcHgiIGZpbGw9ImJsYWNrIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlOyIgZGlyZWN0aW9uPSJsdHIiPlZpZGUvU2NyZWVuIFNoYXJlIEFyZWE8L3RleHQ+PC9nPjwvc3ZnPg==) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[392,313],size:[415,208],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},...r(1,382,82,180,115),...r(2,614,82,180,115),share:{type:"media",position:[69,343],size:[272,177],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},g={...r(0,45,40,45,500),share:{type:"media",position:[100,40],size:[1e3,500],zIndex:0,background:"rgba(0, 240, 0, 0.2)",border:"",iframe:""}},D={chat:{type:"chat",position:[45,200],size:[240,310],zIndex:0,background:"rgba(135, 206, 235, 0.2)",border:"",iframe:""},...o(1,300,40),...o(2,300,200),...o(3,300,360),...o(4,560,40),...o(5,560,200),...o(6,560,360),...o(7,820,40),...o(8,820,200),...o(9,820,360)},z={background:{type:"background",position:[0,0],size:[1021,676],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/111254880-55862c80-8659-11eb-88f1-3aaa42ba2b68.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[40,480],size:[380,190],zIndex:0,background:"white",border:"skyblue solid 3px",iframe:""},...r(1,77,244,273,230),...r(2,297,41,135,125),...r(3,385,321,113,75),share:{type:"media",position:[540,405],size:[480,270],zIndex:0,background:"rgba(0, 240, 0, 0.3)",border:"",iframe:""},go:{type:"goboard",position:[820,95],size:[200,120],zIndex:0,background:"rgba(0,240,0,0.6)",border:"",iframe:""},go2:{type:"goboard",position:[820,220],size:[200,120],zIndex:0,background:"rgba(0,100,240,0.6)",border:"",iframe:""}},T={background:{type:"background",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/118205142-ab7d2200-b49a-11eb-863a-3a9a5560d7df.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[85,530],size:[375,200],zIndex:0,background:"rgba(206,206,206,0.9)",border:"#2C2F33 solid 2px",iframe:""},...r(1,220,180,240,180),...r(2,863,230,250,230),...r(3,650,47,160,160),...r(4,64,315,100,45),...r(5,64,388,100,45),...r(6,64,457,100,45),share:{type:"media",position:[600,480],size:[510,250],zIndex:0,background:"rgba(0,0,0,0.2)",border:"limegreen solid 2px",iframe:""},...o(10,865,5)},j={background:{type:"background",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/17561803/120201967-fc459680-c260-11eb-8b1f-6bb108476f2f.png) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[56,340],size:[250,394],zIndex:0,background:"rgba(167,194,211,0.9)",border:"#2C2F33 solid 3px",iframe:""},...r(1,575,295,200,130),...r(2,516,555,200,180),...r(3,441,373,100,100),...r(4,684,17,100,45),...r(5,684,83,100,45),...r(6,684,149,100,45),share:{type:"media",position:[763,643],size:[350,90],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},go:{type:"goboard",position:[320,594],size:[180,140],zIndex:0,background:"rgba(167,194,211,0.6)",border:"#2C2F33 solid 3px",iframe:""},movable1:{type:"background",position:[244,109],size:[36,36],zIndex:0,background:"url(https://user-images.githubusercontent.com/17561803/120613305-12d23480-c491-11eb-91ba-d338c3ba631e.png) center center / contain no-repeat",border:"",iframe:""}},I={background:{type:"background",position:[0,0],size:[1120,740],zIndex:-100,background:"url(https://user-images.githubusercontent.com/52230939/126919537-78c7d05e-26f4-43f6-9fdd-4db8e7fbc098.jpg) left top / contain no-repeat",border:"",iframe:""},chat:{type:"chat",position:[60,460],size:[230,270],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},...r(1,480,580,220,150),...r(2,160,300,250,140),...r(3,830,190,140,70),movie:{type:"background",position:[763,289],size:[109,63],zIndex:0,background:"",border:"",iframe:"https://www.youtube.com/embed/ofrC1WFeoLw"},share:{type:"media",position:[820,590],size:[290,140],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},go:{type:"goboard",position:[292,590],size:[160,140],zIndex:0,background:"rgba(255,255,255,0.3)",border:"#deca54 solid 1px",iframe:""},BeachChair:{type:"background",position:[959,422],size:[35,63],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919528-eac984b0-ce64-4ab1-8973-c429e9a10052.png) center center / contain no-repeat",border:"",iframe:""},BeachChair2:{type:"background",position:[1068,423],size:[35,63],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919528-eac984b0-ce64-4ab1-8973-c429e9a10052.png) center center / contain no-repeat",border:"",iframe:""},ChairA:{type:"background",position:[367,317],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919531-82d14682-c684-4da7-bc83-8ae17861150e.png) center center / contain no-repeat",border:"",iframe:""},ChairB:{type:"background",position:[174,330],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919533-6a09f353-16c2-465d-b09f-ff64b0357418.png) center center / contain no-repeat",border:"",iframe:""},ChairC:{type:"background",position:[345,374],size:[35,48],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919534-d4a669f9-c228-4a55-9b2a-df04bd2dd0d1.png) center center / contain no-repeat",border:"",iframe:""},Digda:{type:"background",position:[119,409],size:[26,22],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919535-97212807-b151-4937-8e08-b4fdd1f497e7.png) center center / contain no-repeat",border:"",iframe:""},Kintone:{type:"background",position:[907,110],size:[46,28],zIndex:0,background:"url(https://user-images.githubusercontent.com/52230939/126919536-99b58589-238f-44e9-b2a2-f20a615e730c.png) center center / contain no-repeat",border:"",iframe:""}};[...Array(100).keys()].forEach((e=>{const M=430-e%10*14,t=570-14*Math.floor(e/10);I[`block${e}`]={type:"background",position:[M,t],size:[22,19],zIndex:0,background:`url(https://user-images.githubusercontent.com/52230939/${["126926610-244ca224-89b8-4418-b457-5d23ca34d69e","126926610-244ca224-89b8-4418-b457-5d23ca34d69e","126926610-244ca224-89b8-4418-b457-5d23ca34d69e","126926610-244ca224-89b8-4418-b457-5d23ca34d69e","126926292-dd184ddb-2a78-4720-8b69-2daa6e911f08","126926292-dd184ddb-2a78-4720-8b69-2daa6e911f08","126926292-dd184ddb-2a78-4720-8b69-2daa6e911f08","126926292-dd184ddb-2a78-4720-8b69-2daa6e911f08","126919530-aeff42a1-a033-4eb1-a395-bc3700b9a54d","126919529-b82d5f24-71ae-482b-987d-55d68829a490"][e%10]}.png) center center / contain no-repeat`,border:"",iframe:""}}));const u={intro:d,phone:g,igo:D,office1:z,office2:T,office3:j,office4:I},l="gatherRegionMap";var y=t(50634),x=t(93057);const p=async e=>{const M={video:{deviceId:e,width:1280,height:720}},t=await navigator.mediaDevices.getUserMedia(M),[a]=t.getVideoTracks(),i=document.createElement("canvas"),n=i.getContext("2d");i.width=72,i.height=72;const{srcImg:s,srcW:c,srcH:N,dispose:r}=await(async(e,M)=>{if("undefined"!==typeof ImageCapture){const e=new ImageCapture(M);let t;await(0,x._)(2e3);try{const M=await e.takePhoto();t=await createImageBitmap(M)}catch(a){t=await e.grabFrame()}return{srcImg:t,srcW:t.width,srcH:t.height}}const t=document.createElement("video");return t.autoplay=!0,t.setAttribute("playsinline",""),t.style.display="block",t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.bottom="0",document.body.appendChild(t),t.srcObject=e,await(0,x._)(2e3),{srcImg:t,srcW:t.videoWidth,srcH:t.videoHeight,dispose:()=>{document.body.removeChild(t)}}})(t,a),o=Math.max(72/c,72/N),d=Math.min(c,72/o),g=Math.min(N,72/o),D=(c-d)/2,z=(N-g)/2;return n.drawImage(s,D,z,d,g,0,0,72,72),r&&r(),a.stop(),i.toDataURL("image/jpeg")},m=e=>(0,y.Kn)(e)&&"string"===typeof e.image&&(e=>(0,y.Kn)(e)&&"string"===typeof e.nickname&&"string"===typeof e.message&&"boolean"===typeof e.liveMode&&"boolean"===typeof e.micOn&&"boolean"===typeof e.speakerOn)(e.info)&&"number"===typeof e.updated,O=(e,M,t,i,n,s,r,o,d,g)=>{const[D,z]=(0,a.useState)(),[T,j]=(0,a.useState)([]);return(0,a.useEffect)((()=>{const t=(0,N.V)(e,M),a=t.ydoc.getMap("faceImages"),i=()=>{j((e=>{const i=[...e];let n=!1;a.forEach(((e,t)=>{if(t===M)return;if(!m(e))return;const a=i.findIndex((e=>e.userId===t));-1===a?(i.push(e),n=!0):e.updated>i[a].updated&&(i[a]=e,n=!0)}));const s=Date.now()-6e5,c=i.filter((e=>e.updated>=s&&t.userIdMap[e.userId]));return n=n||i.length!==c.length,n?c:e}))};a.observe(i);const n=(0,c.Ld)(t.userIdMap,i);return i(),()=>{n(),a.unobserve(i)}}),[e,M]),(0,a.useEffect)((()=>{const a=(0,N.V)(e,M),c=a.ydoc.getMap("faceImages");let D,T=!1;const j=async()=>{if(!T){try{const e=s?t:await p(g);if(T)return;z(e);const N={userId:M,image:e,info:{nickname:i,message:n,liveMode:r,micOn:o,speakerOn:d},updated:Date.now()};c.set(M,N),a.ydoc.transact((()=>{const e=Date.now()-12e4;c.forEach(((M,t)=>{const a=M;a.updated>=e&&c.set(t,{...a})}))}))}catch(e){console.error(e)}D=setTimeout(j,12e4)}};return j(),()=>{T=!0,clearTimeout(D)}}),[e,M,g,t,i,n,s,r,o,d]),{myImage:D,roomImages:T}},w=e=>{const[M,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(e){const M=()=>{const M=Date.now()-12e4;t(e<M)},a=setInterval(M,1e4);return M(),()=>clearInterval(a)}}),[e]),M};var b=t(7232);const k=(e,M,t)=>{const a=M||new MediaStream;return a.addTrack(e),a.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})),e.addEventListener("ended",(()=>{a.removeTrack(e),0===a.getTracks().length&&t(a)})),a},A=(e,M,t,n,s,c,r,o)=>{const d=`${o||"face"}Video`,g=`${o||"face"}Audio`,[D,z]=(0,a.useState)(null),[T,j]=(0,a.useState)({}),I=(0,a.useRef)(!0);(0,a.useEffect)((()=>()=>{I.current=!1}),[]),(0,a.useEffect)((()=>{t||n||j({})}),[t,n]);const u=e=>{var M;let[t,a]=e;if("ended"===a.readyState)return;if(null!==(M=T[t])&&void 0!==M&&M.getTracks().includes(a))return;const i=e=>{I.current&&j((M=>{const{[t]:a,...i}=M;return a===e?i:M}))};j((e=>{const M=e[t],n=k(a,M,i);return M===n?e:{...e,[t]:n}}))},l=(0,i.RK)((0,N.V)(e,M).trackMap);return Object.entries(l[d]||{}).forEach(u),Object.entries(l[g]||{}).forEach(u),(0,a.useEffect)((()=>{const a=(0,N.V)(e,M);let i=null;return t&&(async()=>{const{stream:e,dispose:M}=await(0,b.j)(c),[t]=e.getVideoTracks();a.addMediaType(d),a.addTrack(d,t);const n=e=>{I.current&&z((M=>M===e?null:M))};z((e=>k(t,e,n)));const s=()=>{a.removeMediaType(d),a.removeTrack(d),M(),t.dispatchEvent(new Event("ended"))};!1===i?s():i=s})(),()=>{i&&i(),i=!1}}),[e,M,t,c,d]),(0,a.useEffect)((()=>{const t=(0,N.V)(e,M);let a=null;return n&&(async()=>{const{stream:e,dispose:M}=await(async e=>{const M=e?{audio:{deviceId:e}}:{audio:!0},t=await navigator.mediaDevices.getUserMedia(M),[a]=t.getAudioTracks();return await a.applyConstraints({echoCancellation:!0,echoCancellationType:{ideal:"system"},noiseSuppression:{ideal:!0}}),{stream:t,dispose:()=>{a.stop()}}})(r),[i]=e.getAudioTracks();t.addMediaType(g),t.addTrack(g,i);const n=e=>{I.current&&z((M=>M===e?null:M))};z((e=>k(i,e,n)));const s=()=>{t.removeMediaType(g),t.removeTrack(g),M(),i.dispatchEvent(new Event("ended"))};!1===a?s():a=s})(),()=>{a&&a(),a=!1}}),[e,M,n,r,g]),(0,a.useEffect)((()=>{if(D){D.getAudioTracks().forEach((e=>{e.enabled=s}));const e=e=>{const{track:M}=e;"audio"===M.kind&&(M.enabled=s)};return D.addEventListener("addtrack",e),()=>{D.removeEventListener("addtrack",e)}}}),[D,s]),{faceStream:D,faceStreamMap:T}};var E=t(37878);const h=(0,a.memo)((e=>{let{roomId:M,userId:t}=e;const[i,n]=(0,a.useState)(""),[s,c]=(0,a.useState)("background"),[r,o]=(0,a.useState)(100),[d,g]=(0,a.useState)(100),[D,z]=(0,a.useState)(100),[T,j]=(0,a.useState)(100),[I,u]=(0,a.useState)(0),[y,x]=(0,a.useState)(""),[p,m]=(0,a.useState)(""),[O,w]=(0,a.useState)(""),[b,k]=(0,a.useState)(null),A=[...(0,N.V)(M,t).ydoc.getMap(l).keys()];return(0,E.jsxs)("div",{className:"RegionEditor-container",children:[(0,E.jsx)("h3",{children:"Region Editor"}),(0,E.jsxs)("label",{children:["Region ID:"," ",(0,E.jsx)("input",{value:i,onChange:e=>n(e.target.value)})]}),(0,E.jsxs)("select",{onChange:e=>{(e=>{var a,i,s,r;if(n(e),!e)return;const d=(0,N.V)(M,t).ydoc.getMap(l).get(e);c(d.type),o(d.position[0]),g(d.position[1]),z(d.size[0]),j(d.size[1]),u(null!==(a=d.zIndex)&&void 0!==a?a:0),x(null!==(i=d.background)&&void 0!==i?i:""),m(null!==(s=d.border)&&void 0!==s?s:""),w(null!==(r=d.iframe)&&void 0!==r?r:"")})(e.target.value)},children:[(0,E.jsx)("option",{value:"",children:"(Select to load existing region)"}),A.map((e=>(0,E.jsx)("option",{value:e,children:e},e)))]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("label",{children:["Type:"," ",(0,E.jsxs)("select",{value:s,onChange:e=>c(e.target.value),children:[(0,E.jsx)("option",{value:"background",children:"Background"}),(0,E.jsx)("option",{value:"meeting",children:"Meeting"}),(0,E.jsx)("option",{value:"chat",children:"Chat"}),(0,E.jsx)("option",{value:"media",children:"Media"}),(0,E.jsx)("option",{value:"goboard",children:"Go Board"})]})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("label",{children:["Left:"," ",(0,E.jsx)("input",{type:"number",value:r,onChange:e=>o(Number(e.target.value))})]}),(0,E.jsxs)("label",{children:["Top:"," ",(0,E.jsx)("input",{type:"number",value:d,onChange:e=>g(Number(e.target.value))})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("label",{children:["Width:"," ",(0,E.jsx)("input",{type:"number",value:D,onChange:e=>z(Number(e.target.value))})]}),(0,E.jsxs)("label",{children:["Height:"," ",(0,E.jsx)("input",{type:"number",value:T,onChange:e=>j(Number(e.target.value))})]}),(0,E.jsx)("hr",{}),"chat"!==s&&(0,E.jsxs)("label",{children:["zIndex:"," ",(0,E.jsx)("input",{type:"number",value:I,max:0,onChange:e=>u(Number(e.target.value))})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("label",{children:["Background:"," ",(0,E.jsx)("input",{value:y,onChange:e=>x(e.target.value)})]}),(0,E.jsxs)("label",{children:["Border:"," ",(0,E.jsx)("input",{value:p,onChange:e=>m(e.target.value)})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("label",{children:["Iframe:"," ",(0,E.jsx)("input",{value:O,onChange:e=>w(e.target.value)})]}),(0,E.jsx)("hr",{}),(0,E.jsx)("button",{type:"button",onClick:()=>(()=>{const e={type:s,position:[r,d],size:[D,T],zIndex:I,background:y,border:p,iframe:O};(0,N.V)(M,t).ydoc.getMap(l).set(i,e)})(),disabled:!i,children:"Add/Update Region"}),(0,E.jsx)("hr",{}),(0,E.jsxs)("button",{type:"button",className:"RegionEditor-toggle",onClick:()=>{b?k(null):(()=>{const e=(0,N.V)(M,t).ydoc.getMap(l);k(JSON.stringify(e.toJSON()))})()},children:["Import/Export ",b?(0,E.jsx)(E.Fragment,{children:"\u25bc"}):(0,E.jsx)(E.Fragment,{children:"\u25b6"})]}),!!b&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("label",{children:["All Region Data:"," ",(0,E.jsx)("textarea",{value:b,onChange:e=>k(e.target.value)})]}),(0,E.jsx)("button",{type:"button",onClick:()=>{const e=(0,N.V)(M,t).ydoc.getMap(l);try{Object.entries(JSON.parse(b||"")).forEach((M=>{let[t,a]=M;e.set(t,a)})),k(null)}catch(a){console.log("failed to save all region data",a)}},children:"Replace (Be careful)"})]})]})})),Y=(0,a.memo)((e=>{let{statusMesg:M,suspended:t,toggleSuspended:i,setStatusMesg:s}=e;const[c,N]=(0,a.useState)(M),[r,o]=(0,a.useState)(!t),[d,g]=(0,a.useState)("");return(0,E.jsxs)("div",{className:"RegionEditor-container",children:[(0,E.jsx)("h3",{children:"Setting"}),(0,E.jsxs)("label",{children:["Camera :"," ",(0,E.jsx)("button",{type:"button",onClick:()=>{o(!r)},children:r?"on":"off"})]}),(0,E.jsx)("hr",{}),!r&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("label",{children:["Avatar:"," ",(0,E.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(e=>{const M=e&&e[0];if(!M)return;if(M.size>16384)return void window.alert(`Too large: ${M.size}`);const t=new FileReader;t.onload=()=>{"string"===typeof t.result&&g(t.result)},t.readAsDataURL(M)})(e.target.files)})]}),(0,E.jsx)("hr",{})]}),(0,E.jsxs)("label",{children:["Message:"," ",(0,E.jsx)("input",{type:"text",defaultValue:c||"",onChange:e=>{N(e.target.value)}})]}),(0,E.jsx)("hr",{}),(0,E.jsx)("button",{type:"button",onClick:()=>{null!==c&&s(c),t===r&&i(),t&&d&&(0,n.UV)(d)},children:"update"})]})}));var Q=t(76996),C=t(65954);const U=(0,a.memo)((e=>{let{roomId:M}=e;const[t,i]=(0,a.useState)();(0,a.useEffect)((()=>{(async()=>{i(await(async e=>{const M=e.slice(0,20),t=await(0,C.I1)(e.slice(Q.W));return`https://excalidraw.com/#room=${M},${(await window.crypto.subtle.exportKey("jwk",t)).k}`})(M))})()}),[M]);const n=`remote-faces://${window.location.href.replace(/^https:\/\//,"")}`;return(0,E.jsxs)("div",{className:"LinkOpener-container",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{title:"Share this link with your colleagues",children:"Room Link: "}),(0,E.jsx)("input",{value:window.location.href,readOnly:!0})]}),(0,E.jsx)("div",{children:(0,E.jsx)("a",{href:n,title:"Open this link in the desktop app",children:"Open App"})}),(0,E.jsx)("div",{children:(0,E.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:"Open Excalidraw"})})]})})),S=(0,a.memo)((()=>(0,E.jsx)("div",{className:"Loading-container",children:(0,E.jsx)("div",{className:"loader",children:(0,E.jsx)("div",{children:"Loading..."})})})));var L=t(64044),v=t(4497);const f=(0,a.memo)((e=>{let{image:M,nickname:t,statusMesg:a,setStatusMesg:i,updated:n,inFaceList:s,liveMode:c,stream:N,muted:r,micOn:o,speakerOn:d}=e;const g=w(n),D=n&&new Date(n),z=[...a][0];let T=i?String.fromCodePoint(128221):"";z&&(T=(0,v.nB)(z)?z:String.fromCodePoint(128172));return(0,E.jsxs)("div",{className:"FaceCard-container",style:{opacity:g?.2:1},children:[c&&N?(0,E.jsx)("video",{className:"FaceCard-photo",ref:e=>{e&&e.srcObject!==N&&(e.srcObject=N)},autoPlay:!0,playsInline:!0,muted:r}):(0,E.jsx)("img",{src:M||L.Cg,className:"FaceCard-photo",alt:"faceImage"}),(0,E.jsx)("div",{className:"FaceCard-name",children:t}),s&&i&&(0,E.jsx)("button",{type:"button",className:"FaceCard-mesg",title:a||"(No status message)",onClick:()=>{if(i){const e=window.prompt("Enter status message");null!==e&&i(e)}},children:T}),s&&!i&&(0,E.jsx)("div",{className:"FaceCard-mesg",title:a||"(No status message)",children:T}),s&&D&&(0,E.jsx)("div",{className:"FaceCard-updated",children:(0,E.jsxs)("span",{title:D.toLocaleString(),children:[`${D.getHours()}`.padStart(2,"0"),":",`${D.getMinutes()}`.padStart(2,"0")]})}),!s&&c&&N&&(0,E.jsxs)("div",{className:"FaceCard-mic-speaker-icons",children:[o&&(0,E.jsx)("span",{title:"Mic On",children:"\ud83c\udfa4"}),d&&(0,E.jsx)("span",{title:"Speaker On",children:"\ud83d\udd08"})]})]})})),Z=(0,a.memo)((e=>{let{roomId:M,userId:t,avatar:a,nickname:n,statusMesg:s,setStatusMesg:c,videoDeviceId:r,suspended:o}=e;const d=(0,i.RK)((0,N.V)(M,t).userIdMap),{myImage:g,roomImages:D}=O(M,t,a,n,s,o,!1,!1,!1,r);return(0,E.jsxs)("div",{className:"FaceList-list",children:[(0,E.jsx)("div",{className:"FaceList-item",children:(0,E.jsx)(f,{image:g,nickname:n,statusMesg:s,setStatusMesg:c,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})}),D.map((e=>(0,E.jsx)("div",{className:"FaceList-item",children:(0,E.jsx)(f,{image:"number"===typeof d[e.userId]?e.image:L.d9,nickname:e.info.nickname,statusMesg:e.info.message,updated:e.updated,inFaceList:!0,muted:!0,micOn:!1,speakerOn:!1})},e.userId))),!D.length&&(0,E.jsx)("div",{className:"FaceList-item",children:(0,E.jsx)(S,{})})]})}));var G=t(42699);const B=(0,a.lazy)((()=>Promise.all([t.e(72),t.e(378)]).then(t.bind(t,10378)))),R=(0,a.lazy)((()=>t.e(98).then(t.bind(t,82098)))),H=(0,a.lazy)((()=>Promise.all([t.e(739),t.e(357)]).then(t.bind(t,5357)))),W=(e,M,t)=>{if(!t)return;const{position:a,size:i}=M[t];return a[0]<=e.position[0]&&a[1]<=e.position[1]&&e.position[0]+36<=a[0]+i[0]&&e.position[1]+36<=a[1]+i[1]},P=(0,a.memo)((e=>{let M,{roomId:t,userId:i,nickname:n,id:s,data:c,highlight:N,setPosition:r,registerOnMouseDrag:o}=e;return"micon-meeting"===N?M="0 0 0 5px rgba(255, 0, 0, 0.6)":"active-meeting"===N?M="0 0 0 3px rgba(255, 0, 0, 0.3)":"meeting"===N&&(M="0 0 0 1px rgba(255, 0, 0, 0.3)"),(0,E.jsxs)("div",{className:"GatherArea-region",style:{left:`${c.position[0]}px`,top:`${c.position[1]}px`,width:`${c.size[0]}px`,height:`${c.size[1]}px`,boxShadow:M,zIndex:"chat"!==c.type?c.zIndex:void 0,background:c.background,border:c.border},onMouseDown:e=>{if("background"===c.type&&(e.preventDefault(),r)){const M=e.currentTarget,t=[e.clientX-c.position[0],e.clientY-c.position[1]];o((e=>{const a=e.clientX-t[0],i=e.clientY-t[1];M.style.left=`${a}px`,M.style.top=`${i}px`,r([a,i])}))}},children:[c.iframe&&(0,E.jsx)("iframe",{title:s,src:c.iframe,frameBorder:"0"}),"chat"===c.type&&(0,E.jsx)(a.Suspense,{fallback:(0,E.jsx)(G.F,{}),children:(0,E.jsx)(B,{roomId:t,userId:i,nickname:n,uniqueId:s})}),"media"===c.type&&(0,E.jsx)(a.Suspense,{fallback:(0,E.jsx)(G.F,{}),children:(0,E.jsx)(R,{roomId:t,userId:i,nickname:n,uniqueId:s})}),"goboard"===c.type&&(0,E.jsx)(a.Suspense,{fallback:(0,E.jsx)(G.F,{}),children:(0,E.jsx)(H,{roomId:t,userId:i,uniqueId:s})})]})})),F=(0,a.memo)((e=>{let{nickname:M,statusMesg:t,setStatusMesg:a,image:i,updated:n,position:s,setPosition:c,registerOnMouseDrag:N,stream:r,liveMode:o,muted:d,micOn:g}=e;const D=w(n);return(0,E.jsxs)("div",{className:"GatherArea-avatar",style:{left:`${s[0]}px`,top:`${s[1]}px`},onMouseDown:e=>{if(e.preventDefault(),c){const M=e.currentTarget,t=[e.clientX-s[0],e.clientY-s[1]];N((e=>{const a=e.clientX-t[0],i=e.clientY-t[1];M.style.left=`${a}px`,M.style.top=`${i}px`,c([a,i])}))}},children:[t&&(0,E.jsx)("div",{className:"GatherArea-avatar-balloon",style:{opacity:D?.2:1},children:t}),(0,E.jsx)(f,{image:i,nickname:M,statusMesg:t,setStatusMesg:a,updated:n,liveMode:o,stream:r,muted:!!d,micOn:!!g,speakerOn:o})]})})),J=(0,a.memo)((e=>{let{roomId:M,userId:t,avatar:i,nickname:n,statusMesg:r,setStatusMesg:o,videoDeviceId:d,audioDeviceId:g,toggleSuspended:D,suspended:z}=e;const{myImage:T,roomImages:j}=O(M,t,i,n,r,z,!1,!1,!1,d),{avatarMap:I,myAvatar:y,setMyAvatar:x,regionMap:p,updateRegion:m}=((e,M)=>{const[t,i]=(0,a.useState)({}),[n,r]=(0,a.useState)({position:(o=M,[parseInt(o.slice(0,2),16)/2+50,parseInt(o.slice(2,4),16)/2+30])});var o;(0,a.useEffect)((()=>{const t=(0,N.V)(e,M),a=t.ydoc.getMap("gatherAvatarMap"),n=()=>{i((e=>{const i={...e};let n=!1;return a.forEach(((e,a)=>{var s,c;a!==M&&t.userIdMap[a]&&(e=>{try{const M=e;return"number"===typeof M.position[0]&&"number"===typeof M.position[1]}catch(M){return!1}})(e)&&(i[a]?(s=e,c=i[a],(s.position[0]!==c.position[0]||s.position[1]!==c.position[1])&&(i[a]=e,n=!0)):(i[a]=e,n=!0))})),Object.keys(i).forEach((e=>{t.userIdMap[e]||(delete i[e],n=!0)})),n?i:e}))};a.observe(n);const s=(0,c.Ld)(t.userIdMap,n);return n(),()=>{s(),a.unobserve(n)}}),[e,M]);const d=(0,a.useRef)();(0,a.useEffect)((()=>{n&&(d.current?d.current=n:(d.current=n,setTimeout((()=>{(0,N.V)(e,M).ydoc.getMap("gatherAvatarMap").set(M,d.current),d.current=void 0}),500)))}),[e,M,n]);const[g,D]=(0,a.useState)({});(0,a.useEffect)((()=>{const t=(0,N.V)(e,M).ydoc.getMap(l),a=()=>{D((e=>{const M={};return t.forEach(((t,a)=>{var i,n;(e=>{try{const M=e;return!(!["background","meeting","chat","media","goboard"].includes(M.type)||"number"!==typeof M.position[0]||"number"!==typeof M.position[1]||"number"!==typeof M.size[0]||"number"!==typeof M.size[1]||"undefined"!==typeof M.zIndex&&"number"!==typeof M.zIndex||"undefined"!==typeof M.background&&"string"!==typeof M.background||"undefined"!==typeof M.border&&"string"!==typeof M.border||"undefined"!==typeof M.iframe&&"string"!==typeof M.iframe)}catch(M){return!1}})(t)&&(e[a]&&(n=t,(i=e[a]).type===n.type&&i.position[0]===n.position[0]&&i.position[1]===n.position[1]&&i.size[0]===n.size[0]&&i.size[1]===n.size[1]&&i.zIndex===n.zIndex&&i.background===n.background&&i.border===n.border&&i.iframe===n.iframe)?M[a]=e[a]:M[a]=t)})),M}))};t.observe(a),a();const i=setTimeout((()=>{const e=(0,s.NW)()||"",M=u[e];M&&(t.size>0||Object.entries(M).forEach((e=>{let[M,a]=e;t.set(M,a)})))}),1e4);return()=>{clearTimeout(i),t.unobserve(a)}}),[e,M]);const z=(0,a.useRef)({}),T=(0,a.useCallback)(((t,a)=>{clearTimeout(z.current[t]),z.current[t]=setTimeout((()=>{(0,N.V)(e,M).ydoc.getMap(l).set(t,a)}),500)}),[e,M]);return{avatarMap:t,myAvatar:n,setMyAvatar:r,regionMap:g,updateRegion:T}})(M,t),w=(0,a.useRef)(),b=(0,a.useCallback)((e=>{w.current=e}),[]),k=((e,M)=>Object.keys(M).sort(((e,t)=>{var a,i;return(null!==(a=M[t].zIndex)&&void 0!==a?a:0)-(null!==(i=M[e].zIndex)&&void 0!==i?i:0)})).find((t=>{const{type:a,position:i,size:n}=M[t];return"meeting"===a&&i[0]<=e.position[0]+36&&i[1]<=e.position[1]+36&&e.position[0]<=i[0]+n[0]&&e.position[1]<=i[1]+n[1]})))(y,p),Q=W(y,p,k),{faceStream:C,faceStreamMap:S}=A(M,t,!!k,!!k,!!Q,d,g,`gatherArea/meeting/${k}/`),[L,v]=(0,a.useState)(null);return(0,E.jsxs)("div",{className:"GatherArea-container",children:[(0,E.jsxs)("div",{className:"GatherArea-body",onMouseMove:e=>{w.current&&w.current(e)},onMouseUp:()=>{b()},children:[Object.entries(p).map((e=>{let[a,i]=e;return(0,E.jsx)(P,{roomId:M,userId:t,nickname:n,id:a,data:i,highlight:a===k&&(Q?"micon-meeting":"active-meeting")||("meeting"===i.type?"meeting":void 0),setPosition:e=>m(a,{...i,position:e}),registerOnMouseDrag:b},a)})),Object.entries(I).map((e=>{let[M,a]=e;if(M===t)return null;const i=j.find((e=>e.userId===M));return i?(0,E.jsx)(F,{nickname:i.info.nickname,statusMesg:i.info.message,image:i.image,updated:i.updated,position:a.position,registerOnMouseDrag:b,stream:S[M],liveMode:!!k,micOn:W(a,p,k)},M):null})),(0,E.jsx)(F,{nickname:n,statusMesg:r,setStatusMesg:o,image:T,position:y.position,setPosition:e=>x((M=>({...M,position:e}))),registerOnMouseDrag:b,stream:C||void 0,liveMode:!!k,muted:!0,micOn:Q})]}),(0,E.jsx)("div",{className:"GatherArea-facelist",children:(0,E.jsx)(Z,{roomId:M,userId:t,avatar:i,nickname:n,statusMesg:r,setStatusMesg:o,videoDeviceId:d,suspended:z})}),(0,E.jsxs)("div",{className:"GatherArea-toolbar",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("button",{type:"button",onClick:()=>v("setting"===L?null:"setting"),children:"setting"===L?"Close Setting":"Open Setting"}),"setting"===L&&(0,E.jsx)("div",{className:"GatherArea-setting",children:(0,E.jsx)(Y,{statusMesg:r,suspended:z,toggleSuspended:D,setStatusMesg:o})})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("button",{type:"button",onClick:()=>v("region-editor"===L?null:"region-editor"),children:"region-editor"===L?"Close Region Editor":"Open Region Editor"}),"region-editor"===L&&(0,E.jsx)("div",{className:"GatherArea-region-editor",children:(0,E.jsx)(h,{roomId:M,userId:t})})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("button",{type:"button",onClick:()=>v("link-opener"===L?null:"link-opener"),children:"link-opener"===L?"Close Link Opener":"Open Link Opener"}),"link-opener"===L&&(0,E.jsx)("div",{className:"GatherArea-link-opener",children:(0,E.jsx)(U,{roomId:M})})]})]})]})})),X=(0,a.memo)((()=>{const{roomId:e,userId:M,config:t}=(0,i.RK)(n.F3),[c,N]=(0,a.useState)("");(0,a.useEffect)((()=>{(0,s.Pz)(e)}),[e]);const[r,o]=(0,a.useState)(!1);if(r)throw new Error("inactive for too long");return(0,a.useEffect)((()=>{let e=Date.now();const M=setInterval((()=>{const M=Date.now();M-e>=144e5&&o(!0),e=M}),36e5);return()=>{clearInterval(M)}}),[]),(0,E.jsx)("div",{className:"SingleRoom-container",children:(0,E.jsx)(J,{roomId:e,userId:M,avatar:t.avatar,nickname:t.nickname,statusMesg:c,setStatusMesg:N,suspended:!t.takePhoto,videoDeviceId:t.videoDeviceId,audioDeviceId:t.audioDeviceId,toggleSuspended:n.Ki})})})),V=X},7232:(e,M,t)=>{t.d(M,{a:()=>a,j:()=>i});const a=async e=>{const M=e?{video:{deviceId:e}}:{video:!0},t=await navigator.mediaDevices.getUserMedia(M),[a]=t.getVideoTracks();return{stream:t,dispose:()=>{a.stop()}}},i=async e=>{const M={video:{deviceId:e,frameRate:{max:5},width:{exact:72},height:{exact:72}}},t=await navigator.mediaDevices.getUserMedia(M),[a]=t.getVideoTracks();return{stream:t,dispose:()=>{a.stop()}}}},36620:(e,M,t)=>{t.d(M,{V:()=>r});var a=t(15849),i=t(39102),n=t(1239);const s=e=>new Promise((M=>{const t=new FileReader;t.onload=()=>{const e=t.result,a=e.indexOf(",")+1;M(e.slice(a))},t.readAsDataURL(new Blob([e]))})),c=(e,M)=>{const c=(0,a.sj)({networkStatusList:[],userIdMap:{},ydoc:(0,a.iH)(new i.QW),acceptingMediaTypes:[],trackMap:{},addMediaType:async e=>{if(c.acceptingMediaTypes.includes(e))return void console.log("media type already added",e);c.acceptingMediaTypes.push(e);(await N).acceptMediaTypes((0,a.CO)(c.acceptingMediaTypes))},removeMediaType:async e=>{const M=c.acceptingMediaTypes.indexOf(e);if(-1===M)return void console.log("media type already added",e);c.acceptingMediaTypes.splice(M,1);(await N).acceptMediaTypes((0,a.CO)(c.acceptingMediaTypes))},addTrack:async(e,M)=>{(await N).addTrack(e,M)},removeTrack:async e=>{(await N).removeTrack(e)},dispose:async()=>{(await N).dispose()}});c.ydoc.on("update",(async e=>{const M=await s(e);N.then((e=>{e.broadcastData({ydocUpdate:M})}))}));const N=async function(){let e;return e=(0,n.G7)()?(await Promise.all([t.e(326),t.e(729)]).then(t.bind(t,33413))).createRoom:(0,n.Cd)()?(await Promise.all([t.e(66),t.e(787)]).then(t.bind(t,17904))).createRoom:(await Promise.all([t.e(66),t.e(792),t.e(305)]).then(t.bind(t,24961))).createRoom,e(...arguments)}(e,M,(e=>{console.log((new Date).toLocaleString(),"[network status]",e),c.networkStatusList.unshift(e),c.networkStatusList.length>10&&c.networkStatusList.pop(),"CONNECTION_CLOSED"===(null===e||void 0===e?void 0:e.type)&&Object.entries(c.userIdMap).forEach((M=>{let[t,a]=M;a===e.peerIndex&&(c.userIdMap[t]="closed")}))}),(async e=>{const M=i.D$(c.ydoc),t={ydocUpdate:await s(M)};N.then((M=>{M.sendData(t,e)}))}),(async(e,M)=>{if(c.userIdMap[M.userId]=M.peerIndex,null!==e&&void 0!==e&&e.ydocUpdate){const M=await(async e=>{const M=await fetch(`data:application/octet-binary;base64,${e}`),t=await M.arrayBuffer();return new Uint8Array(t)})(e.ydocUpdate);i.NG(c.ydoc,M)}}),((e,M,t)=>{c.trackMap[e]||(c.trackMap[e]={}),M.addEventListener("ended",(()=>{c.trackMap[e][t.userId]===M&&delete c.trackMap[e][t.userId]})),c.trackMap[e][t.userId]=(0,a.iH)(M)}));return c},N=new Map,r=(e,M)=>{const t=`${e}:${M}`;if(!N.has(t)){const a=c(e,M);N.set(t,a)}return N.get(t)}},4497:(e,M,t)=>{t.d(M,{h5:()=>n,nB:()=>s});t(23218);var a=t(13793),i=t(24121);const n=a.cW,s=e=>!!(0,a.$w)(e,"apple",i)},93057:(e,M,t)=>{t.d(M,{_:()=>a});const a=e=>new Promise((M=>{setTimeout(M,e)}))},50634:(e,M,t)=>{t.d(M,{Kn:()=>a,wH:()=>i,Hk:()=>n});const a=e=>"object"===typeof e&&null!==e,i=(e,M)=>"string"===typeof e[M],n=(e,M)=>a(e[M])}}]);
//# sourceMappingURL=228.609f8ba4.chunk.js.map